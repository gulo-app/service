{"version":3,"sources":["serviceWorker.js","actions/user/index.js","reducers/user_reducer.js","actions/list/index.js","actions/list/product/index.js","actions/list/manual_product/index.js","reducers/lists_reducer.js","actions/notification/index.js","reducers/notifications_reducer.js","actions/UI/index.js","reducers/isMenu_reducer.js","actions/socket/index.js","reducers/socket_reducer.js","reducers/index.js","components/Login/Login.js","components/Login/index.js","FontAwesomeLib.js","components/Gulo/SocketListener/SocketListener.js","components/Gulo/SocketListener/index.js","components/VerifyAuth/VerifyAuth.js","components/VerifyAuth/index.js","components/Misc/Icon/index.js","components/Misc/Icon/Icon.js","components/Misc/MenuToggler/MenuToggler.js","components/Misc/MenuToggler/index.js","components/Gulo/SideMenu/SideMenu.js","components/Gulo/SideMenu/index.js","components/Gulo/Lists/EmptyList/index.js","components/Gulo/Lists/EmptyList/EmptyList.js","components/Gulo/Lists/List/index.js","components/Gulo/Lists/List/List.js","components/Misc/MyModal/MyModal.js","components/Misc/MyModal/index.js","components/Misc/RadiosAPI/index.js","components/Misc/RadiosAPI/RadiosAPI.js","components/Gulo/Lists/ModalList/ListShares/index.js","components/Gulo/Lists/ModalList/ListShares/ListShares.js","components/Gulo/Lists/ModalList/ModalList.js","components/Gulo/Lists/ModalList/index.js","components/Gulo/Lists/Lists.js","components/Gulo/Lists/index.js","components/Gulo/ViewList/ModalProduct/index.js","components/Gulo/ViewList/ModalProduct/ModalProduct.js","components/Gulo/ViewList/OptionsToggler/index.js","components/Gulo/ViewList/OptionsToggler/OptionsToggler.js","components/Gulo/ViewList/Product/index.js","components/Gulo/ViewList/Product/Product.js","components/Gulo/ViewList/CatGroup/index.js","components/Gulo/ViewList/CatGroup/CatGroup.js","components/Gulo/ViewList/ViewList.js","components/Gulo/ViewList/index.js","components/Gulo/Notifications/Notification/Notification.js","components/Gulo/Notifications/Notification/index.js","components/Gulo/Notifications/EmptyNotifications/index.js","components/Gulo/Notifications/EmptyNotifications/EmptyNotifications.js","components/Gulo/Notifications/Notifications.js","components/Gulo/Notifications/index.js","components/Gulo/ViewNotification/SharedList/SharedList.js","components/Gulo/ViewNotification/SharedList/index.js","components/Misc/DataListAPI/index.js","components/Misc/DataListAPI/DataListAPI.js","components/Misc/SelectAPI/index.js","components/Misc/SelectAPI/SelectAPI.js","components/Gulo/ViewNotification/ModalBarcode/index.js","components/Gulo/ViewNotification/ModalBarcode/ModalBarcode.js","components/Gulo/ViewNotification/ScanNotExists/index.js","components/Gulo/ViewNotification/ScanNotExists/ScanNotExists.js","components/Gulo/ViewNotification/VerifyProduct/index.js","components/Gulo/ViewNotification/VerifyProduct/VerifyProduct.js","components/Gulo/ViewNotification/ViewNotification.js","components/Gulo/ViewNotification/index.js","components/Gulo/Gulo.js","components/Gulo/index.js","Router.js","index.js","consts/index.js"],"names":["Boolean","window","location","hostname","match","GOOGLE_LOGIN","FACEBOOK_LOGIN","VERIFY_AUTH","SET_USER","LOGOUT","googleLogin","user","req","API_CALL","type","payload","facebookLogin","verifyAuth","setUser","FETCH_LISTS","INSERT_LIST","UPDATE_LIST","DELETE_LIST","insertList","list","UPDATE_LIST_PRODUCT","DELETE_LIST_PRODUCT","UPDATE_LIST_MANUAL_PRODUCT","DELETE_LIST_MANUAL_PRODUCT","FETCH_NOTIFICATIONS","MARK_UNNEW","MARK_READ","CONFIRM_NOTIFICATION","INSERT_NOTIFICATION","DELETE_NOTIFICATION","UPDATE_NOTIFICATION","markUnNew","markRead","notification_id","concat","confirmNotification","deleteNotification","TOGGLE_MENU","toggleMenu","SUBSCRIBE_SOCKET","rootReducer","combineReducers","state","arguments","length","undefined","action","error","console","log","lists","newState","product","mapLists","_","keyBy","forOwn","val","key","products","manual_products","newList","Object","objectSpread","defineProperty","list_id","updatedList","objectWithoutProperties","map","_toPropertyKey","id","cloneDeep","product_id","notifications","updatedNotification","noti_id","newNotification","notifications_reducer_toPropertyKey","isRead","isMenu","socket","disconnect","Login","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","responseGoogle","bind","assertThisInitialized","responseFacebook","FB","alert","reload","response","profileObj","tokenId","react_default","a","createElement","Redirect","to","className","google_login_default","clientId","render","renderProps","onClick","buttonText","onSuccess","facebook_login_with_button_default","appId","autoLoad","fields","callback","cssClass","textButton","Component","connect","_ref","dispatch","bindActionCreators","library","add","faBars","faSearch","faHome","faEllipsisV","faPlus","faMinus","faUndo","faDesktop","faHotel","faArchive","faFile","faArrowLeft","faTrash","faClipboardList","faComment","farComment","faPowerOff","faBarcode","faBell","faTimes","faShareAlt","faWhatsapp","faBroom","faHandshake","faUserTimes","SocketListener","listen","prevProps","_this2","subscribeSocket","io","URI","on","updateList","deleteList","listProduct","updateListProduct","cb","deleteListProduct","updateListManualProduct","deleteListManualProduct","insertNotification","notification","emit","VerifyAuth","then","catch","e","history","push","withRouter","Icon","hover","toggleHover","setState","_this$props","icon","title","size","style","hoverStyle","faType","color","hoverColor","theStyle","react_fontawesome_index_es","onMouseEnter","onMouseLeave","MenuToggler","unReadCounter","filter","noti","Misc_Icon","toggleStatus","SideMenu","link","Misc_MenuToggler","src","pic","alt","firstname","lastname","marginRight","logout","EmptyList","List","background","list_type_color","showList","list_type_icon","list_name","creator","fullname","editList","Modal","defaultStyles","overlay","backgroundColor","MyModal","react_modal_lib_default","isOpen","ariaHideApp","shouldCloseOnOverlayClick","onRequestClose","close","children","RadiosAPI","options","fetchAPI","api","verb","url","setTimeout","_this3","name","value","option","bg","readOnly","target","renderRadios","ListShares","status","users","isValid","handleChange","fetchUsers","validateInsert","prevState","shares","redirectToLogin","mail","share","validateRemove","Manager","unshift","preventDefault","_this$state","isExists","find","onInsert","isCreator","confirm","onRemove","_this$state2","onChange","placeholder","renderSharesList","renderDataListOptions","ModalList","list_type","list_type_id","device_id","device","device_password","password","shares_deleted","shares_inserted","submit","insertShare","removeShare","delete","_e$target","stateObj","toConsumableArray","user_id","sd","si","s","data","message","_this4","onSubmit","onReset","required","Misc_RadiosAPI","ModalList_ListShares","Lists","isModal","toggleIsModal","addEventListener","ev","Lists_List","Lists_EmptyList","Misc_MyModal","Lists_ModalList","renderLists","renderEmpty","ModalProduct","product_name","quantity","memo","increaseQuantity","decreaseQuantity","handleMemo","update","new","focus","p_route","isManual","_this5","ref","input","OptionsToggler","toggle","manualProduct","shareWhatsapp","clearList","renderTrue","renderFalse","Product","_this$props$product","Quantity","isChecked","toggleCheck","onEdit","CatGroup","isExpand","toggleExpand","cat","ViewList_Product","setProduct","cat_name","category_name","unCheckedProducts","renderProducts","ViewList","toggleIsManual","toggleIsMenu","cats","groupBy","manual","toArray","i","ViewList_CatGroup","text","arr","p","open","encodeURI","ViewList_ModalProduct","goBack","renderCatGroups","ViewList_OptionsToggler","ownProps","params","Notification","viewNotification","isToday","moment","modifiedAt","isSame","primary","secondary","format","EmptyNotifications","Notifications","isNew","values","Notifications_EmptyNotifications","reverse","Notifications_Notification","renderNotifications","SharedList","isConfirm","createdAt","isConfirmation","DataListAPI","renderOptions","opt","onSelect","SelectAPI","Options","disabled","ModalBarcode","barcode","split","category_id","capacity_unit_id","capacity","brand_id","brand_text","brand_name","Misc_DataListAPI","Misc_SelectAPI","ScanNotExists","newProduct","subject_id","ViewNotification_ModalBarcode","VerifyProduct","renderVerifyQuestion","renderVerified","renderOverwrited","overwrite","verify","_this$props$noti","unit_name","ViewNotification","renderNotification","notification_type_id","ViewNotification_SharedList","ViewNotification_ScanNotExists","ViewNotification_VerifyProduct","topic","Gulo","fetchLists","fetchNotifications","components_VerifyAuth","Gulo_SocketListener","Gulo_SideMenu","Switch","Route","path","component","Router","BrowserRouter","createStoreWithMiddleware","applyMiddleware","ReduxPromise","createStore","ReactDOM","es","store","reducers","src_Router","document","getElementById","navigator","serviceWorker","ready","registration","unregister","axios","require","includes","module","exports","Promise","resolve","reject","method","withCredentials","res","err"],"mappings":"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","file":"static/js/main.df4ad3a9.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {API_CALL} from '../../consts';\r\n\r\nexport const GOOGLE_LOGIN     =   'GOOGLE_LOGIN';\r\nexport const FACEBOOK_LOGIN   =   'FACEBOOK_LOGIN';\r\nexport const VERIFY_AUTH      =   'VERIFY_AUTH';\r\nexport const SET_USER         =   'SET_USER';\r\nexport const LOGOUT           =   'LOGOUT';\r\n\r\nexport function googleLogin(user){\r\n  const req = API_CALL('POST', '/user/login/google', user);\r\n\r\n  return{\r\n    type: GOOGLE_LOGIN,\r\n    payload: req\r\n  };\r\n}\r\nexport function facebookLogin(user){\r\n  const req = API_CALL('POST', '/user/login/facebook', user);\r\n  return{\r\n    type: FACEBOOK_LOGIN,\r\n    payload: req\r\n  };\r\n}\r\nexport function verifyAuth(){\r\n  const user = API_CALL('POST', '/user/login/auth-test');\r\n  return{\r\n    type: VERIFY_AUTH,\r\n    payload: user\r\n  };\r\n}\r\nexport function setUser(user){\r\n  return{\r\n    type: SET_USER,\r\n    payload: user\r\n  };\r\n}\r\n\r\nexport function logout(){  \r\n  const req = API_CALL('POST', '/user/logout');\r\n\r\n  return{\r\n    type: LOGOUT,\r\n    payload: req\r\n  };\r\n}\r\n","import {FACEBOOK_LOGIN, GOOGLE_LOGIN, VERIFY_AUTH, SET_USER, LOGOUT} from '../actions/user/index';\r\n\r\nexport default function(state=null, action){\r\n  switch(action.type){\r\n    case GOOGLE_LOGIN:\r\n    case FACEBOOK_LOGIN:\r\n    case VERIFY_AUTH:\r\n    case SET_USER:\r\n      if(action.error){\r\n        console.log(\"login failed\");\r\n        return null;\r\n      }\r\n      return action.payload;\r\n    case LOGOUT:\r\n      console.log('logout');\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {API_CALL} from '../../consts';\r\n\r\nexport const FETCH_LISTS      =   'FETCH_LISTS';\r\nexport const INSERT_LIST      =   'INSERT_LIST';\r\nexport const UPDATE_LIST      =   'UPDATE_LIST';\r\nexport const DELETE_LIST      =   'DELETE_LIST';\r\n\r\nexport function fetchLists(){\r\n  const req = API_CALL('GET', '/list');\r\n  return{\r\n    type: FETCH_LISTS,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function insertList(list){\r\n  return {\r\n    type: INSERT_LIST,\r\n    payload: list\r\n  }\r\n}\r\nexport function deleteList(list_id){\r\n  return {\r\n    type: DELETE_LIST,\r\n    payload: list_id\r\n  }\r\n}\r\nexport function updateList(list){\r\n  return {\r\n    type: UPDATE_LIST,\r\n    payload: list\r\n  }\r\n}\r\n","//import {API_CALL} from '../../consts';\r\n\r\nexport const UPDATE_LIST_PRODUCT          =      'UPDATE_LIST_PRODUCT';\r\nexport const DELETE_LIST_PRODUCT          =      'DELETE_LIST_PRODUCT';\r\n\r\nexport function updateListProduct(product){\r\n  return{\r\n    type: UPDATE_LIST_PRODUCT,\r\n    payload: product\r\n  };\r\n}\r\n\r\nexport function deleteListProduct(list_id, product_id){\r\n  return {\r\n    type: DELETE_LIST_PRODUCT,\r\n    payload: {list_id, product_id}\r\n  }\r\n}\r\n","//import {API_CALL} from '../../consts';\r\n\r\nexport const UPDATE_LIST_MANUAL_PRODUCT   =      'UPDATE_LIST_MANUAL_PRODUCT';\r\nexport const DELETE_LIST_MANUAL_PRODUCT   =      'DELETE_LIST_MANUAL_PRODUCT';\r\n\r\nexport function updateListManualProduct(product){\r\n  return{\r\n    type: UPDATE_LIST_MANUAL_PRODUCT,\r\n    payload: product\r\n  };\r\n}\r\n\r\nexport function deleteListManualProduct(list_id, product_id){\r\n  return {\r\n    type: DELETE_LIST_MANUAL_PRODUCT,\r\n    payload: {list_id, product_id}\r\n  }\r\n}\r\n","import {FETCH_LISTS, INSERT_LIST, UPDATE_LIST, DELETE_LIST}               from '../actions/list';\r\nimport {UPDATE_LIST_PRODUCT, DELETE_LIST_PRODUCT}                         from '../actions/list/product';\r\nimport {UPDATE_LIST_MANUAL_PRODUCT, DELETE_LIST_MANUAL_PRODUCT}           from '../actions/list/manual_product';\r\nimport _ from 'lodash';\r\n\r\nexport default function(state={}, action){\r\n  let newState, product;\r\n\r\n  switch(action.type){\r\n    case FETCH_LISTS:\r\n      if(action.error){\r\n        console.log(\"fetch lists failed\");\r\n        return state;\r\n      }\r\n\r\n      let mapLists = _.keyBy(action.payload, 'list_id'); //convert array to mapped object\r\n      _.forOwn(mapLists, (val,key) => {\r\n        val.products        =   _.keyBy(val.products, 'id') //map products array to mapped object\r\n        val.manual_products =   _.keyBy(val.manual_products, 'id') //map products array to mapped object\r\n      })\r\n      console.log(mapLists);\r\n      return mapLists;\r\n\r\n    case INSERT_LIST:\r\n      let newList = action.payload;\r\n      return { ...state, [newList.list_id]: newList };\r\n\r\n    case UPDATE_LIST:\r\n      let updatedList = action.payload;\r\n      return { ...state, [updatedList.list_id]: updatedList };\r\n\r\n    case DELETE_LIST:\r\n      let list_id = action.payload;\r\n      const {[list_id]: value, ...listsAfterDelete } = state;\r\n      return listsAfterDelete;\r\n\r\n    case UPDATE_LIST_PRODUCT:\r\n      product = action.payload;\r\n      return {...state, [product.list_id]: {...state[product.list_id], 'products': {...state[product.list_id]['products'], [product.id]:  product}}};\r\n\r\n    case UPDATE_LIST_MANUAL_PRODUCT:\r\n      product = action.payload;\r\n      return {...state, [product.list_id]: {...state[product.list_id], 'manual_products': {...state[product.list_id]['manual_products'], [product.id]:  product}}};\r\n\r\n    case DELETE_LIST_PRODUCT:\r\n      newState = _.cloneDeep(state);\r\n      delete newState[action.payload.list_id].products[action.payload.product_id];\r\n      return newState;\r\n\r\n    case DELETE_LIST_MANUAL_PRODUCT:\r\n      newState = _.cloneDeep(state);\r\n      delete newState[action.payload.list_id].manual_products[action.payload.product_id];\r\n      return newState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {API_CALL} from '../../consts';\r\n\r\nexport const FETCH_NOTIFICATIONS    =   'FETCH_NOTIFICATIONS';\r\nexport const MARK_UNNEW             =   'MARK_UNNEW';\r\nexport const MARK_READ              =   'MARK_READ';\r\nexport const CONFIRM_NOTIFICATION   =   'CONFIRM_NOTIFICATION';\r\nexport const INSERT_NOTIFICATION    =   'INSERT_NOTIFICATION';\r\nexport const DELETE_NOTIFICATION    =   'DELETE_NOTIFICATION';\r\nexport const UPDATE_NOTIFICATION    =   'UPDATE_NOTIFICATION';\r\n\r\nexport function fetchNotifications(){\r\n  const req = API_CALL('GET', '/notification');\r\n  return{\r\n    type: FETCH_NOTIFICATIONS,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function markUnNew(){\r\n  const req = API_CALL('POST', '/notification/unNew');\r\n  return{\r\n    type: MARK_UNNEW,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function markRead(notification_id){\r\n  const req = API_CALL('POST', `/notification/${notification_id}/markRead`);\r\n  return{\r\n    type: MARK_READ,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function confirmNotification(notification_id){\r\n  const req = API_CALL('POST', `/notification/${notification_id}/confirm`);\r\n  return{\r\n    type: CONFIRM_NOTIFICATION,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function insertNotification(notification){\r\n  return {\r\n    type: INSERT_NOTIFICATION,\r\n    payload: notification\r\n  }\r\n}\r\n\r\nexport function deleteNotification(notification_id){\r\n  const req = API_CALL('DELETE', `/notification/${notification_id}`);\r\n  return {\r\n    type: DELETE_NOTIFICATION,\r\n    payload: req\r\n  }\r\n}\r\n\r\nexport function updateNotification(notification){\r\n  return {\r\n    type: UPDATE_NOTIFICATION,\r\n    payload: notification\r\n  }\r\n}\r\n","import {FETCH_NOTIFICATIONS, MARK_UNNEW, MARK_READ, CONFIRM_NOTIFICATION, INSERT_NOTIFICATION, DELETE_NOTIFICATION, UPDATE_NOTIFICATION} from '../actions/notification';\r\nimport _ from 'lodash';\r\n\r\nexport default function(state=[], action){\r\n  let mapNotis, updatedNotification, noti_id;\r\n  switch(action.type){\r\n    case FETCH_NOTIFICATIONS:\r\n      if(action.error){\r\n        console.log(\"fetch lists failed\");\r\n        return state;\r\n      }\r\n      //console.log('FETCH');\r\n      mapNotis = _.keyBy(action.payload, 'notification_id'); //convert array to mapped object\r\n      return mapNotis;\r\n\r\n    case INSERT_NOTIFICATION:\r\n      //console.log('INSERT');\r\n      let newNotification = action.payload;\r\n      return { ...state, [newNotification.notification_id]: newNotification };\r\n\r\n    case DELETE_NOTIFICATION:\r\n      //console.log('DELETE');\r\n      noti_id = action.payload.notification_id;\r\n      const {[noti_id]: value, ...notificationsAfterDelete } = state;\r\n      return notificationsAfterDelete;\r\n\r\n    case UPDATE_NOTIFICATION:\r\n      //console.log('UPDATE');\r\n      updatedNotification = action.payload;\r\n      return { ...state, [updatedNotification.notification_id]: updatedNotification };\r\n\r\n    case MARK_UNNEW:\r\n      //console.log('MARK_UNNEW');\r\n      mapNotis = _.keyBy(action.payload, 'notification_id'); //convert array to mapped object\r\n      return mapNotis;\r\n\r\n    case MARK_READ:\r\n      //console.log('MARK_READ');\r\n      noti_id = action.payload.notification_id;\r\n      return { ...state, [noti_id]: {...state[noti_id], 'isRead': 1}};\r\n\r\n    case CONFIRM_NOTIFICATION:\r\n      console.log('CONFIRM_NOTIFICATION');\r\n      updatedNotification = action.payload;\r\n      return { ...state, [updatedNotification.notification_id]: updatedNotification };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const TOGGLE_MENU      =   'TOGGLE_MENU';\r\n\r\nexport function toggleMenu(){\r\n  return{\r\n    type: TOGGLE_MENU,\r\n    payload: {}\r\n  };\r\n}\r\n","import {TOGGLE_MENU} from '../actions/UI';\r\nimport {LOGOUT} from '../actions/user';\r\n\r\nexport default function(state=false, action){\r\n  switch(action.type){\r\n    case TOGGLE_MENU:\r\n      return !(state);\r\n    case LOGOUT:\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const SUBSCRIBE_SOCKET       =     'SUBSCRIBE_SOCKET'\r\n\r\nexport function subscribeSocket(socket, user){\r\n  console.log(`socket: ${socket.id} connected`);\r\n  socket.emit('subscribe', user);\r\n  return{\r\n    type: SUBSCRIBE_SOCKET,\r\n    payload: socket\r\n  };\r\n}\r\n","import {SUBSCRIBE_SOCKET} from '../actions/socket';\r\nimport {LOGOUT} from '../actions/user/index';\r\n\r\nexport default function(state=null, action){\r\n  switch(action.type){\r\n    case SUBSCRIBE_SOCKET:      \r\n      return action.payload;\r\n    case LOGOUT:\r\n      if(state)\r\n        state.disconnect(); //disconnect socket\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport userReducer            from './user_reducer';\r\nimport listsReducer           from './lists_reducer';\r\nimport notificationsReducer   from './notifications_reducer';\r\nimport isMenuReducer          from './isMenu_reducer';\r\nimport socketReducer          from './socket_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user:           userReducer,\r\n    lists:          listsReducer,\r\n    notifications:  notificationsReducer,\r\n    isMenu:         isMenuReducer,\r\n    socket:         socketReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {googleLogin, facebookLogin, verifyAuth} from '../../actions/user/index.js';\r\nimport {Redirect} from 'react-router-dom';\r\nimport GoogleLogin from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\nclass Login extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.responseGoogle   =   this.responseGoogle.bind(this);\r\n    this.responseFacebook =   this.responseFacebook.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    //this.props.verifyAuth();\r\n    if(window.FB){\r\n      alert(\"facebook redirect!\");\r\n      window.location.reload(true);\r\n    }\r\n  }\r\n  responseGoogle(response){\r\n    console.log(response);\r\n    const user = response.profileObj;\r\n    user.tokenId = response.tokenId;\r\n    this.props.googleLogin(user);\r\n  }\r\n  responseFacebook(response){\r\n    console.log(response);\r\n    this.props.facebookLogin(response);\r\n  }\r\n\r\n  render(){\r\n    const user = this.props.user;\r\n    if(user) return <Redirect to='/lists' />;\r\n\r\n    return(\r\n      <div className=\"Login\">\r\n        <div className='top'>\r\n          <div className='logo'>\r\n            <div className='cover'/>\r\n          </div>\r\n          <div className='wave'/>\r\n        </div>\r\n        <main>\r\n          <div className='welcome'>\r\n            <div className='primary'>Welcome</div>\r\n            <div className='secondary'>Sign in to discover the best of Gulo</div>\r\n          </div>\r\n          <div className='login-options'>\r\n            <GoogleLogin\r\n              clientId=\"180978526897-8o5c4k9vakqt2eqfbgd2u9ng5jaobl4j.apps.googleusercontent.com\"\r\n              render={renderProps => (\r\n                  <div className='google circle' onClick={renderProps.onClick}></div>\r\n              )}\r\n              buttonText=\"Login\"\r\n              onSuccess={this.responseGoogle}\r\n            />\r\n            <FacebookLogin\r\n               appId=\"567336290432352\"\r\n               autoLoad={false}\r\n               fields=\"name,email,picture\"\r\n               callback={this.responseFacebook}\r\n               cssClass=\"facebook circle\"\r\n               textButton=\"\"\r\n           />\r\n\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps({user}){\r\n  return {user};\r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({facebookLogin, googleLogin, verifyAuth}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Login);\r\n\r\n/*\r\n<div className=\"logo-container\">\r\n  Login Page\r\n  <div className='types'>\r\n    <GoogleLogin\r\n      clientId=\"180978526897-8o5c4k9vakqt2eqfbgd2u9ng5jaobl4j.apps.googleusercontent.com\"\r\n      render={renderProps => (\r\n          <button onClick={renderProps.onClick}>This is my custom Google button</button>\r\n      )}\r\n      buttonText=\"Login\"\r\n      onSuccess={this.responseGoogle}\r\n    />\r\n    <FacebookLogin\r\n       appId=\"567336290432352\"\r\n       autoLoad={false}\r\n       fields=\"name,email,picture\"\r\n       callback={this.responseFacebook}\r\n       render={renderProps => (\r\n        <button onClick={renderProps.onClick}>This is my custom FB button</button>\r\n      )}\r\n   />\r\n  </div>\r\n</div>\r\n*/\r\n","import Login from './Login';\r\nexport default Login;\r\n","import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faBars, faSearch, faEllipsisV, faPlus, faMinus, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHome, faDesktop, faHotel, faArchive, faArrowLeft, faTrash, faShareAlt} from '@fortawesome/free-solid-svg-icons';\r\nimport { faClipboardList, faComment, faPowerOff, faBarcode, faTimes, faBroom, faHandshake, faUserTimes} from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nimport { faFile, faComment as farComment, faBell} from '@fortawesome/free-regular-svg-icons';\r\nimport { faWhatsapp} from '@fortawesome/free-brands-svg-icons';\r\n\r\nlibrary.add(\r\n  faBars, faSearch, faHome, faEllipsisV, faPlus, faMinus, faUndo,\r\n  faDesktop, faHotel, faArchive, faFile, faArrowLeft, faTrash,\r\n  faClipboardList, faComment, farComment, faPowerOff, faBarcode, faBell, faTimes,\r\n  faShareAlt, faWhatsapp, faBroom, faHandshake, faUserTimes\r\n);\r\n\r\nexport default library;\r\n","import {Component} from 'react';\r\nimport io                                                       from 'socket.io-client';\r\nimport {connect}                                                from 'react-redux';\r\nimport {insertList, updateList, deleteList}                     from '../../../actions/list';\r\nimport {updateListProduct, deleteListProduct}                   from '../../../actions/list/product';\r\nimport {updateListManualProduct, deleteListManualProduct}       from '../../../actions/list/manual_product';\r\nimport {subscribeSocket}                                        from '../../../actions/socket';\r\nimport {insertNotification, deleteNotification}                 from '../../../actions/notification';\r\nimport {URI}                                                    from '../../../consts'\r\n\r\nclass SocketListener extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.listen = this.listen.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.listen();\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(!prevProps.user && this.props.user)\r\n      this.listen();\r\n  }\r\n  listen(){\r\n    if(!this.props.user) return false;\r\n    let {subscribeSocket} = this.props;\r\n    const socket = io(URI);\r\n\r\n    socket.on('connect', () => {\r\n      subscribeSocket(socket, this.props.user);\r\n\r\n      socket.on('newList', (newList) => this.props.insertList(newList));\r\n      socket.on('listUpdated', (updatedList) => this.props.updateList(updatedList));\r\n      socket.on('listDeleted', (list_id) => this.props.deleteList(list_id));\r\n      socket.on('updateListProduct', (listProduct) => this.props.updateListProduct(listProduct));\r\n      socket.on('deleteListProduct', (cb) => this.props.deleteListProduct(cb.list_id, cb.product_id));\r\n\r\n      socket.on('updateListManualProduct', (listProduct) => this.props.updateListManualProduct(listProduct));\r\n      socket.on('deleteListManualProduct', (cb) => this.props.deleteListManualProduct(cb.list_id, cb.product_id));\r\n\r\n      socket.on('newNotification',    (newNotification) => this.props.insertNotification(newNotification));\r\n      socket.on('updateNotification', (notification)    => this.props.insertNotification(notification)); //in reducer: update&insert functionallity is the same.\r\n      socket.on('deleteNotification', (notification_id) => this.props.deleteNotification(notification_id));\r\n\r\n    });\r\n  }\r\n\r\n  render(){return null}\r\n}\r\n\r\nconst mapStateToProps = ({user, socket}) => {return {user, socket} };\r\n\r\nexport default connect(mapStateToProps, {subscribeSocket, insertList, updateListProduct, deleteListProduct, updateList, deleteList, insertNotification, deleteNotification, updateListManualProduct, deleteListManualProduct})(SocketListener);\r\n","import SocketListener from './SocketListener';\r\nexport default SocketListener;\r\n","import {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {setUser} from '../../actions/user/index.js';\r\nimport {API_CALL} from '../../consts';\r\n\r\nclass VerifyAuth extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.verifyAuth = this.verifyAuth.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.verifyAuth();\r\n  }\r\n  verifyAuth(){\r\n    if(this.props.user) return true;\r\n    API_CALL('POST', '/user/login/auth-test').then((user) => {\r\n      this.props.setUser(user);\r\n    }).catch((e) => {      \r\n      this.props.history.push(`/login`);\r\n    });\r\n  }\r\n  render(){\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({user}){\r\n  return {user};\r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({setUser}, dispatch);\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(VerifyAuth));\r\n","import VerifyAuth from './VerifyAuth';\r\nexport default VerifyAuth;\r\n","import Icon from './Icon';\r\nexport default Icon;\r\n","import React, {Component} from 'react';\r\nimport './style.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass Icon extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {hover: false};\r\n\r\n    this.toggleHover = this.toggleHover.bind(this);\r\n  }\r\n  toggleHover(){\r\n    this.setState({hover: !this.state.hover});\r\n  }\r\n  render(){\r\n    let {className, icon, title, size, style, hoverStyle, onClick, faType} = this.props;\r\n    let color = !this.state.hover ? this.props.color : this.props.hoverColor;\r\n    let theStyle = !this.state.hover ? style: hoverStyle;\r\n    return(\r\n      <FontAwesomeIcon className={`Icon ${className} ${icon}`} onMouseEnter={this.toggleHover} onMouseLeave={this.toggleHover}\r\n        icon={[faType || 'fas',icon]} color={color} size={size} title={title} onClick={onClick} style={theStyle} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Icon;\r\n","import React,{Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport Icon from '../Icon';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {toggleMenu} from '../../../actions/UI';\r\n\r\n\r\nclass MenuToggler extends Component{\r\n  toggleStatus(){\r\n    this.props.toggleMenu();\r\n  }\r\n  render(){\r\n    let {notifications} = this.props;\r\n    //const newCounter    = _.filter(notifications, (noti) => noti.isNew===1).length;\r\n    const unReadCounter = _.filter(notifications, (noti) => noti.isRead===0).length;\r\n\r\n    return(\r\n      <div className='MenuToggler'>\r\n        {unReadCounter>0 &&<div className='badger'>\r\n          {unReadCounter}\r\n        </div>}\r\n        <Icon icon='bars' size='2x' onClick={() => this.toggleStatus()} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({notifications}) => {return {notifications}};\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({toggleMenu}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuToggler);\r\n","import MenuToggler from './MenuToggler';\r\nexport default MenuToggler;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {withRouter}         from 'react-router-dom';\r\nimport {connect}            from 'react-redux';\r\nimport {logout}             from '../../../actions/user';\r\nimport {toggleMenu}         from '../../../actions/UI';\r\nimport MenuToggler          from '../../Misc/MenuToggler';\r\nimport Icon                 from '../../Misc/Icon';\r\n\r\nclass SideMenu extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.link = this.link.bind(this);\r\n  }\r\n  link(to){\r\n    this.props.history.push(to);\r\n    this.props.toggleMenu();\r\n  }\r\n  render(){\r\n    let {isMenu, user, notifications} = this.props;\r\n    //const newCounter    = _.filter(notifications, (noti) => noti.isNew===1).length;\r\n    let unReadCounter = _.filter(notifications, (noti) => noti.isRead===0).length;\r\n    \r\n    //if(!isMenu) return null;\r\n    return(\r\n      <div className={`SideMenu ${!isMenu && 'hidden'}`}>\r\n        <div className='overlay' onClick={() => this.props.toggleMenu()}></div>\r\n        <main>\r\n          <div className='toggler'><MenuToggler /></div>\r\n          <div className='profile'>\r\n            <div className='pic'>\r\n              <img src={user.pic} alt='' />\r\n            </div>\r\n            <div className='username'>\r\n              {user.firstname} {user.lastname}\r\n            </div>\r\n            <div className='hr' />\r\n          </div>\r\n          <menu className={`${!isMenu && 'hidden'}`}>\r\n\r\n            <div className='row'  onClick={() => this.link('/lists')}>\r\n              <div className='icon' style={{marginRight:'+3px'}}><Icon icon='clipboard-list' /></div>\r\n              <div className='title'> </div>\r\n            </div>\r\n            <div className='row' onClick={() => this.link('/notifications')}>\r\n              <div className='icon notifications'>\r\n                  {/*<span className='counter'>{unReadCounter}</span>*/}\r\n                  {unReadCounter>0 &&<div className='badger'>\r\n                    {unReadCounter}\r\n                  </div>}\r\n                  <Icon faType='far' icon='bell' />\r\n              </div>\r\n              <div className='title'></div>\r\n            </div>\r\n            <div className='row' onClick={() => this.props.logout()}>\r\n              <div className='icon'><Icon icon='power-off' /></div>\r\n              <div className='title'></div>\r\n            </div>\r\n\r\n          </menu>\r\n          <footer>\r\n            <div>Gulo</div>\r\n          </footer>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user, isMenu, notifications}) => {return {user, isMenu, notifications} };\r\n\r\nexport default withRouter(connect(mapStateToProps, {logout, toggleMenu})(SideMenu));\r\n","import SideMenu from './SideMenu';\r\nexport default SideMenu;\r\n","import EmptyList from './EmptyList';\r\nexport default EmptyList;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nconst EmptyList = () => {\r\n  return(\r\n    <div className='EmptyList'>\r\n      <div className=\"icon\"><Icon icon=\"file\" faType=\"far\"/></div>\r\n      <div className='primary'>   </div>\r\n      <div className='secondary'>  \"+\"  </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmptyList;\r\n","import List from './List';\r\nexport default List;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nclass List extends Component{\r\n  render(){\r\n    let {list} = this.props;\r\n    return(\r\n      <div className='List'>\r\n        <div className='icon' style={{background: list.list_type_color}} onClick={this.props.showList}><Icon icon={list.list_type_icon} size='2x'/></div>\r\n        <div className='title' onClick={this.props.showList}>\r\n          <div className='name'>{list.list_name}</div>\r\n          {/*<div className='total'><span className='total'>({list.total_products} )</span></div>*/}\r\n          <div className='mail'>{list.creator.fullname}</div>\r\n        </div>\r\n        <div className='options' onClick={this.props.editList}><Icon icon='ellipsis-v' size='2x' /></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport Modal from 'react-modal';\r\nModal.defaultStyles.overlay.backgroundColor = 'rgba(0,0,0,0.4)';\r\n\r\nclass MyModal extends Component{\r\n  render(){\r\n    return(\r\n      <Modal\r\n        isOpen={this.props.isOpen}\r\n        ariaHideApp={false}\r\n        className={`Modal ${this.props.className}`}\r\n        shouldCloseOnOverlayClick={true}\r\n        onRequestClose={this.props.close}\r\n      >\r\n          {this.props.children}\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyModal;\r\n","import MyModal from './MyModal';\r\nexport default MyModal;\r\n","import RadiosAPI from './RadiosAPI';\r\nexport default RadiosAPI;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {API_CALL} from '../../../consts';\r\n\r\nclass RadiosAPI extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {options: []};\r\n\r\n    this.fetchAPI = this.fetchAPI.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchAPI();\r\n  }\r\n  fetchAPI(){\r\n    let {api} = this.props;\r\n    if(!api) return false;\r\n    API_CALL(api.verb, api.url).then((options) => {\r\n      this.setState({options});\r\n    }).catch((e) => {\r\n      setTimeout(this.fetchAPI, 1000);\r\n    });\r\n  }\r\n  renderRadios(){\r\n    let {name, value} = this.props;\r\n    let {options} = this.state;\r\n    let radios = _.map(options, (option) => {\r\n      let bg = {backgroundColor: option.id===value ? option.color : ''};\r\n      let onClick = this.props.readOnly ? null : () => this.props.onClick({target: {name, value: option.id}});\r\n      return <div key={option.id} style={bg} onClick={onClick}>{option.name}</div>\r\n    })\r\n    return radios;\r\n  }\r\n  render(){\r\n    return (\r\n      <div className='RadioTypes'>\r\n        {this.renderRadios()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RadiosAPI;\r\n","import ListShares from './ListShares';\r\nexport default ListShares;\r\n","import React, {Component} from 'react'\r\nimport './style.scss';\r\nimport Icon from '../../../../Misc/Icon';\r\nimport {API_CALL} from '../../../../../consts';\r\nimport _ from 'lodash';\r\n\r\nclass ListShares extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {status: false, users: [], value: '', isValid: true}\r\n\r\n    this.handleChange     =       this.handleChange.bind(this);\r\n    this.toggleStatus     =       this.toggleStatus.bind(this);\r\n    this.fetchUsers       =       this.fetchUsers.bind(this);\r\n    this.validateInsert   =       this.validateInsert.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchUsers()\r\n  }\r\n  componentDidUpdate(prevProps, prevState){\r\n    if(prevProps.shares!==this.props.shares)\r\n      this.setState({status: false, value: ''});\r\n  }\r\n  fetchUsers(){\r\n    API_CALL('GET', '/user/getAllUsersButMe').then((users) => {\r\n      this.setState({users});\r\n    }).catch((e) => {\r\n      this.setState({redirectToLogin: true})\r\n    });\r\n  }\r\n  toggleStatus(){\r\n    let status = !(this.state.status);\r\n    this.setState({status});\r\n  }\r\n  renderDataListOptions(){\r\n    let {users} = this.state;\r\n    let options = _.map(users, (user) => {\r\n      //console.log(user);\r\n      return <option key={user.mail} value={user.mail}>{user.fullname}</option>\r\n    })\r\n    return options;\r\n  }\r\n  renderSharesList(){\r\n    let {creator} = this.props;\r\n    let shares = _.map(this.props.shares, (share) => {\r\n      return (\r\n        <div className='share' key={share.mail} onClick={() => this.validateRemove(share)}>\r\n          <div className='pic'><img src={share.pic} alt=''/></div>\r\n          <div className='details'>\r\n            <div className='name'>{share.fullname}</div>\r\n            <div className='mail'>{share.mail}</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n    if(creator){ //add manager to list\r\n      let Manager = (<div className='share manager' key={creator.mail}>\r\n                      <div className='pic'><img src={creator.pic} alt=''/></div>\r\n                      <div className='details'>\r\n                        <div className='name'>: {creator.fullname}</div>\r\n                        <div className='mail'>{creator.mail}</div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n       shares.unshift(Manager);\r\n    }\r\n    return <div className='shares-list'>{shares}</div>;\r\n  }\r\n  handleChange(e){\r\n    let {value} = e.target;\r\n    this.setState({value, isValid: true});\r\n  }\r\n  validateInsert(e){\r\n    e.preventDefault();\r\n    let {value, users} = this.state;\r\n    let match = _.filter(users, (user) => user.mail === value);\r\n    let isExists = _.find(this.props.shares, {mail: value});\r\n    if(match.length===0 || isExists){\r\n      this.setState({isValid: false});\r\n      return false;\r\n    }\r\n    this.props.onInsert(match[0]);\r\n  }\r\n  validateRemove(share){\r\n    let {isCreator} = this.props;\r\n    if(!isCreator) return false;\r\n\r\n    if(!window.confirm(`    \\n${share.fullname}?`));\r\n    this.props.onRemove(share);\r\n  }\r\n  render(){\r\n    let {status, value, isValid} = this.state;\r\n    let {isCreator} = this.props;\r\n\r\n    return(\r\n      <div className='ListShares'>\r\n        {isCreator &&\r\n          <div className='toggle-row'>\r\n            <div onClick={this.toggleStatus}>\r\n              <Icon icon={status ? 'minus' : 'plus'} /> &nbsp;\r\n              {status ? '  ' : '  '}\r\n            </div>\r\n            {status && <div><button className='btn-plus' onClick={this.validateInsert}><Icon icon='plus' /></button></div>}\r\n          </div>\r\n        }\r\n        {status && <input className={`ltr ${isValid ? '' : 'invalid'}`} type='text' list=\"users\" value={value} onChange={this.handleChange} placeholder=\"Search partner by Email or FullName...\" />}\r\n\r\n        {!status && this.renderSharesList()}\r\n        <datalist id=\"users\">\r\n          {this.renderDataListOptions()}\r\n        </datalist>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ListShares\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {connect}            from 'react-redux'\r\nimport {bindActionCreators} from 'redux';\r\nimport {insertList}         from '../../../../actions/list';\r\n\r\nimport {API_CALL}   from '../../../../consts';\r\nimport RadiosAPI    from '../../../Misc/RadiosAPI';\r\nimport ListShares   from './ListShares';\r\nimport Icon         from  '../../../Misc/Icon';\r\n\r\nclass ModalList extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    let {list, user} = this.props;\r\n    let creator = list ? list.creator : user;\r\n    let isCreator = (creator.mail === user.mail) ? true: false;\r\n    if(list) //EDIT\r\n      this.state = {\r\n                    creator, isCreator,\r\n                    list_id: list.list_id, list_name: list.list_name, list_type: list.list_type_id,\r\n                    device_id: list.device.id || '', device_password: list.device.password || '',\r\n                    shares: list.shares, shares_deleted: [], shares_inserted: []\r\n                  };\r\n    else //NEW\r\n      this.state = {creator, isCreator,\r\n                    list_name: '', list_type: 1,\r\n                    device_id: '', device_password: '',\r\n                    shares: [], shares_deleted: [], shares_inserted: []\r\n                  };\r\n\r\n    //console.log(list);\r\n    this.handleChange     =     this.handleChange.bind(this);\r\n    this.submit           =     this.submit.bind(this);\r\n    this.insertShare      =     this.insertShare.bind(this);\r\n    this.removeShare      =     this.removeShare.bind(this);\r\n    this.delete           =     this.delete.bind(this);\r\n  }\r\n  handleChange(e){\r\n    let {name, value} = e.target;\r\n    let stateObj = {}; stateObj[name] = value;\r\n    this.setState(stateObj);\r\n  }\r\n  insertShare(share){\r\n    let shares_inserted       =     [share, ...this.state.shares_inserted];\r\n    let shares                =     [share, ...this.state.shares];\r\n    let {shares_deleted}      =     this.state;\r\n    if(_.find(shares_deleted, {user_id: share.user_id})){ //user was deleted and inserted. remove from both!\r\n      shares_deleted  = _.filter(shares_deleted,  sd => sd.user_id!==share.user_id);\r\n      shares_inserted = _.filter(shares_inserted, si => si.user_id!==share.user_id);\r\n    }\r\n    this.setState({shares, shares_inserted, shares_deleted});\r\n  }\r\n  removeShare(share){\r\n    let shares_deleted         =     [share, ...this.state.shares_deleted]\r\n    let {shares_inserted}      =     this.state;\r\n    let shares                 =     _.filter(this.state.shares, s => s.user_id!==share.user_id)\r\n    if(_.find(shares_inserted, {user_id: share.user_id})){ //user was insrted and deleted. remove from both!\r\n      shares_deleted  = _.filter(shares_deleted,  sd => sd.user_id!==share.user_id);\r\n      shares_inserted = _.filter(shares_inserted, si => si.user_id!==share.user_id);\r\n    }\r\n    this.setState({shares, shares_deleted, shares_inserted});\r\n  }\r\n  submit(e){\r\n    e.preventDefault();\r\n    let {list} = this.props; //check wether edit or new\r\n\r\n    //if(!window.confirm('   ?')) return false;\r\n    let api = {\r\n      verb: !list ? 'POST'  :  'PUT',\r\n      url:  !list ? '/list' :  `/list/${list.list_id}`\r\n    }\r\n    API_CALL(api.verb, api.url, this.state).then((cb) => {\r\n      this.props.close();\r\n    }).catch((e) => {\r\n      let error = e.response && e.response.data;\r\n      if(error==='device details invalid')\r\n        alert(\"   \");\r\n      else if(error==='device already connected')\r\n        alert(\"    \");\r\n    });\r\n  }\r\n  delete(){\r\n    let {isCreator, list_id}   = this.state;\r\n    if(!window.confirm(isCreator ? `     ?` : `     ?`))\r\n      return false;\r\n    API_CALL('DELETE', `/list/${list_id}`, this.state).then((cb) => {\r\n      this.props.close();\r\n    }).catch((e) => {\r\n      console.log(e.message);\r\n    });\r\n  }\r\n  render(){\r\n    let state = this.state;\r\n    let {list} = this.props;\r\n    let {creator, isCreator} = this.state;\r\n\r\n    return(\r\n      <div className='ModalList'>\r\n        <header className='modal-header'>\r\n          <div className='title'>{list ? this.props.list.list_name : ' '}</div>\r\n          {list && <div className='left'><Icon icon=\"trash\" color='#f95d49;' onClick={this.delete}/> </div>}\r\n        </header>\r\n        <form onSubmit={this.submit} onReset={() => this.props.close()}>\r\n          <header> </header>\r\n          <div className='field'>\r\n            <div> </div>\r\n            <div><input type='text' name='list_name' value={state.list_name} onChange={this.handleChange} placeholder=\"   \" required /></div>\r\n          </div>\r\n          <div className='field radio'>\r\n            <RadiosAPI name='list_type' value={state.list_type} onClick={this.handleChange} api={{verb:'GET', url: '/list/types'}} readOnly={!isCreator} />\r\n          </div>\r\n\r\n          <header> </header>\r\n          <div className='field'>\r\n            <ListShares shares={state.shares} creator={creator} isCreator={isCreator}\r\n                        onInsert={this.insertShare}  onRemove={this.removeShare}\r\n            />\r\n          </div>\r\n\r\n          <header> </header>\r\n          {isCreator &&\r\n            <div>\r\n              <div className='field'>\r\n                <div> </div>\r\n                <div><input type='number' name='device_id' value={state.device_id} onChange={this.handleChange} placeholder=\"    \" readOnly={!isCreator}/></div>\r\n              </div>\r\n              <div className='field'>\r\n                <div></div>\r\n                <div><input type='text' name='device_password' value={state.device_password} onChange={this.handleChange} placeholder=\"      \" readOnly={!isCreator}/></div>\r\n              </div>\r\n            </div>\r\n          }\r\n          <footer>\r\n            <div className='cancel'><button   type=\"reset\"></button></div>\r\n            <div className='confirm'><button  type=\"submit\"></button></div>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user}) => {return {user} };\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({insertList}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ModalList);\r\n","import ModalList from './ModalList';\r\nexport default ModalList;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Icon from '../../Misc/Icon';\r\nimport EmptyList from './EmptyList';\r\nimport List from './List';\r\nimport MenuToggler  from '../../Misc/MenuToggler';\r\nimport Modal from   '../../Misc/MyModal';\r\nimport ModalList from './ModalList';\r\n\r\nclass Lists extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isModal: false, editList: null};\r\n    this.toggleIsModal      =     this.toggleIsModal.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    window.addEventListener(\"beforeunload\", (ev) => {\r\n      ev.preventDefault();\r\n      //this.props.history.goForward();\r\n    });\r\n  }\r\n  toggleIsModal(){\r\n    let isModal = !(this.state.isModal);\r\n    this.setState({isModal}, () => {\r\n      if(!isModal)\r\n        this.setState({editList: null});\r\n    });\r\n  }\r\n  renderLists(){\r\n    let {lists} = this.props;\r\n    return _.map(lists, (list) => {\r\n      return <List key={list.list_id} list={list}\r\n                showList={() => this.props.history.push(`/list/${list.list_id}`)}\r\n                editList={() => this.setState({editList: list, isModal: true})}\r\n            />\r\n    })\r\n  }\r\n  renderEmpty(){\r\n    return <EmptyList/>\r\n  }\r\n\r\n  render(){\r\n    let {lists} = this.props;\r\n    return(\r\n      <div className='Page Lists'>\r\n        <Modal isOpen={this.state.isModal} ><ModalList list={this.state.editList} close={this.toggleIsModal} /></Modal>\r\n\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'> </div>\r\n          <div className='left'><Icon icon='search' size='2x' /></div>\r\n        </header>\r\n        <main className='lists'>\r\n          {_.size(lists)>0   && this.renderLists()}\r\n          {_.size(lists)===0 && this.renderEmpty()}\r\n        </main>\r\n        <footer>\r\n          <button onClick={this.toggleIsModal}><Icon icon=\"plus\" />  </button>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({lists, socket}) => {return {lists, socket} };\r\n\r\nexport default withRouter(connect(mapStateToProps)(Lists));\r\n","import Lists from './Lists';\r\nexport default Lists;\r\n","import ModalProduct from './ModalProduct';\r\nexport default ModalProduct;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport Icon         from  '../../../Misc/Icon';\r\nimport {API_CALL}   from '../../../../consts';\r\n\r\nclass ModalProduct extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    let {product} = this.props;\r\n    if(product)\r\n      this.state = {product_name: product.product_name, quantity: product.quantity, memo: product.memo ? product.memo : ''};\r\n    else\r\n      this.state = {product_name: '', quantity: 1, memo: ''};\r\n\r\n    this.increaseQuantity = this.increaseQuantity.bind(this);\r\n    this.decreaseQuantity = this.decreaseQuantity.bind(this);\r\n    this.handleMemo       = this.handleMemo.bind(this);\r\n    this.delete           = this.delete.bind(this);\r\n    this.update           = this.update.bind(this);\r\n    this.new              = this.new.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    if(this.product_name)\r\n      this.product_name.focus();\r\n  }\r\n  increaseQuantity(){\r\n    let {quantity} = this.state;\r\n    this.setState({quantity: quantity+1});\r\n  }\r\n  decreaseQuantity(){\r\n    let {quantity} = this.state;\r\n    if(quantity===1) return false;\r\n    this.setState({quantity: quantity-1});\r\n  }\r\n  handleMemo(e){\r\n    let {value} = e.target;\r\n    this.setState({memo: value});\r\n  }\r\n  update(e){\r\n    e.preventDefault();\r\n    let product = {...this.props.product, ...this.state};\r\n    let p_route = product.isManual ? 'manual_product' : 'product';\r\n    API_CALL('PUT', `/list/${product.list_id}/${p_route}/${product.id}`, {product}).then((cb) => {\r\n      this.props.close();\r\n    });\r\n  }\r\n  new(e){\r\n    e.preventDefault();\r\n    let product = {...this.state};\r\n    API_CALL('POST', `/list/${this.props.list.list_id}/manual_product`, {product}).then((cb) => {\r\n      this.props.close()\r\n    });\r\n  }\r\n\r\n  delete(){\r\n    let {product} = this.props;\r\n    if(!product.id)\r\n      return false;\r\n\r\n    let p_route = product.isManual ? 'manual_product' : 'product';\r\n    API_CALL('DELETE', `/list/${product.list_id}/${p_route}/${product.id}`, {product_id: product.id}).then((cb) => {\r\n      this.props.close();\r\n    });\r\n  }\r\n  render(){\r\n    let {product} = this.props;\r\n\r\n    return(\r\n      <div className='ModalProduct'>\r\n        <header className='modal-header'>\r\n          <div className='title'> </div>\r\n          <div className='left'><Icon icon=\"trash\" color='#f95d49;' onClick={this.delete}/></div>\r\n        </header>\r\n        <form onSubmit={product ? this.update : this.new} onReset={this.props.close}>\r\n          {product && <div className='product_name'>{product.product_name}</div>}\r\n          {!product &&\r\n            <div className='field'>\r\n              <div> </div>\r\n              <div><input type='text' name='product_name' value={this.state.product_name} onChange={(e) => this.setState({product_name: e.target.value})} placeholder=\": \" required ref={(input) => {this.product_name=input}} /></div>\r\n            </div>\r\n          }\r\n          <div className='quantity'>\r\n            <div><Icon icon='plus'  onClick={this.increaseQuantity}/></div>\r\n            <div className='number'>{this.state.quantity}</div>\r\n            <div><Icon icon='minus' onClick={this.decreaseQuantity}/></div>\r\n          </div>\r\n          <div className='memo'>\r\n            <textarea value={this.state.memo} placeholder=\"...\" onChange={this.handleMemo}/>\r\n          </div>\r\n          <footer>\r\n            <div className='cancel'><button   type=\"reset\"></button></div>\r\n            <div className='confirm'><button  type=\"submit\"></button></div>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalProduct;\r\n","import OptionsToggler from './OptionsToggler';\r\nexport default OptionsToggler;\r\n","import React,{Component}  from 'react';\r\nimport './style.scss';\r\nimport Icon               from '../../../Misc/Icon';\r\n\r\nclass OptionsToggler extends Component{\r\n  renderFalse(){\r\n    return(\r\n      <div className='false'>\r\n        <div><button className='expand' onClick={this.props.toggle}><Icon icon=\"plus\" /></button></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTrue(){\r\n    const {isCreator} = this.props;\r\n    return (\r\n      <div className='true'>\r\n        <div className='expand'><button className='expand' onClick={this.props.toggle}><Icon icon=\"times\" /></button></div>\r\n        <div className='option' onClick={() => {this.props.toggle(); this.props.manualProduct();}}>\r\n          <div className='icon'><Icon icon='plus' /></div>\r\n          <div className='desc'> </div>\r\n        </div>\r\n        <div className='option' onClick={() => {this.props.toggle(); this.props.shareWhatsapp();}}>\r\n          <div className='desc'> </div>\r\n          <div className='icon'><Icon icon='whatsapp' faType='fab' /></div>\r\n        </div>\r\n        {isCreator &&\r\n          <div className='option' onClick={() => {this.props.toggle(); this.props.clearList();}}>\r\n            <div className='icon'><Icon icon='broom' /></div>\r\n            <div className='desc'> </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n  render(){\r\n    let {isMenu} = this.props;\r\n    return(\r\n      <div className='OptionsToggler'>\r\n        {isMenu ? this.renderTrue() : this.renderFalse()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OptionsToggler;\r\n","import Product from './Product';\r\nexport default Product;\r\n","import React,{Component} from 'react';\r\nimport './style.scss';\r\nimport {API_CALL}       from '../../../../consts';\r\nimport Icon             from '../../../Misc/Icon';\r\n\r\nclass Product extends Component{\r\n  toggleCheck(){\r\n    let {list_id, id, isManual} = this.props.product;\r\n    const p_route = isManual ? 'manual_product' : 'product';\r\n    API_CALL('POST', `/list/${list_id}/${p_route}/${id}/toggleCheck`);\r\n  }\r\n  render(){\r\n    let {product} = this.props;\r\n    const Quantity = product.quantity>1 ? <span className='quantity'>({product.quantity})</span> : null;\r\n    return(\r\n      <div className={`Product ${product.isChecked ? 'checked' : null}`}>\r\n        <div className='product' onClick={() => this.toggleCheck()}>\r\n          <div className='name'>{product.product_name}{Quantity}</div>\r\n          <div className='memo'>{product.memo}</div>\r\n        </div>\r\n        <div className='options' onClick={this.props.onEdit}><Icon icon='ellipsis-v' size='1x' /></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Product;\r\n","import CatGroup from './CatGroup';\r\nexport default CatGroup;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport Product            from '../Product';\r\n\r\nclass CatGroup extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isExpand: true};\r\n\r\n    this.toggleExpand     =     this.toggleExpand.bind(this);\r\n  }\r\n  toggleExpand(){\r\n    let isExpand = !(this.state.isExpand);\r\n    this.setState({isExpand});\r\n  }\r\n  renderProducts(){\r\n    let products =_.map(this.props.cat, (product) => {\r\n      return <Product key={product.id} product={product} onEdit={() => this.props.setProduct(product)} />\r\n    });\r\n    return products;\r\n  }\r\n  render(){\r\n    let {cat} = this.props;\r\n    if(cat.length===0) return null;\r\n    const cat_name = cat[0].category_name;\r\n    const {isExpand} = this.state;\r\n    let unCheckedProducts = _.filter(cat, (product) => product.isChecked===0).length;\r\n    return(\r\n      <div className='CatGroup'>\r\n        <div className='header' onClick={this.toggleExpand}>\r\n          <div>{isExpand ? '-' : '+'}</div>\r\n          <div>{cat_name}</div>\r\n          <div className='counter'>({unCheckedProducts})</div>\r\n        </div>\r\n        <div className='products'>\r\n          {isExpand && this.renderProducts()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CatGroup;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {API_CALL}       from '../../../consts';\r\nimport {withRouter, Redirect}     from 'react-router-dom';\r\nimport {connect}        from 'react-redux';\r\nimport Icon             from '../../Misc/Icon';\r\nimport MenuToggler      from '../../Misc/MenuToggler';\r\nimport Modal            from  '../../Misc/MyModal';\r\nimport ModalProduct     from  './ModalProduct';\r\nimport OptionsToggler   from  './OptionsToggler';\r\nimport CatGroup         from  './CatGroup';\r\n\r\n\r\nclass ViewList extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {product: null, isManual: false, isMenu: false};\r\n\r\n    this.toggleIsManual = this.toggleIsManual.bind(this);\r\n    this.toggleIsMenu   = this.toggleIsMenu.bind(this);\r\n    this.setProduct     = this.setProduct.bind(this);\r\n    this.shareWhatsapp  = this.shareWhatsapp.bind(this);\r\n    this.clearList      = this.clearList.bind(this);\r\n  }\r\n  toggleIsManual(){\r\n    let isManual = !(this.state.isManual);\r\n    this.setState({isManual});\r\n  }\r\n  toggleIsMenu(){\r\n    let isMenu = !(this.state.isMenu);\r\n    this.setState({isMenu});\r\n  }\r\n  setProduct(product){\r\n    this.setState({product});\r\n  }\r\n  renderCatGroups(){\r\n    let {list}  =   this.props;\r\n    let cats  =   _.groupBy(list.products, 'category_id');\r\n    cats.manual = _.toArray(list.manual_products);\r\n    let Cats = _.map(cats, (cat,i) => {\r\n      return <CatGroup key={i} cat={cat} setProduct={this.setProduct}/>\r\n    })\r\n    return Cats;\r\n  }\r\n  shareWhatsapp(){\r\n    let text = '';\r\n    let {list}  =  this.props;\r\n\r\n    const arr = [..._.toArray(list.products), ..._.toArray(list.manual_products)];\r\n\r\n    text += `* ${list.list_name}   :* \\n\\n`\r\n    _.map(arr, (p) => {\r\n      if(p.isChecked) return false;\r\n      text += `${p.product_name}`;\r\n      if(p.quantity>1)\r\n        text += ` (${p.quantity})`;\r\n      text += '\\n';\r\n    });\r\n    window.open(`https://wa.me/?text=${encodeURI(text)}`);\r\n  }\r\n  clearList(){\r\n    var j = window.confirm(\"    ?\");\r\n    if(j===false) return false;\r\n    let {list}  =  this.props;\r\n    API_CALL('POST', `/list/${list.list_id}/clear`);\r\n  }\r\n  render(){\r\n    const {list,user} = this.props;\r\n    if(!list) return <Redirect to='/' />;\r\n    // if(!list) return null;\r\n\r\n    const {product, isManual, isMenu} = this.state;\r\n    const isCreator = list.creator.mail===user.mail ? true : false;\r\n    return(\r\n      <div className='Page ViewList'>\r\n        {isMenu && <div className='overlay'></div>}\r\n        <Modal isOpen={product ? true : false} close={() => this.setProduct(null)}>\r\n          <ModalProduct product={product} close={() => this.setProduct(null)} />\r\n        </Modal>\r\n        <Modal isOpen={isManual} close={() => this.toggleIsManual()}>\r\n          <ModalProduct product={null} list={list} close={() => this.toggleIsManual()} />\r\n        </Modal>\r\n\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'>{list.list_name}</div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n        <main className='list-products'>\r\n          {this.renderCatGroups()}\r\n        </main>\r\n        <footer>\r\n          <OptionsToggler isMenu={isMenu} toggle={this.toggleIsMenu} isCreator={isCreator}\r\n              shareWhatsapp={this.shareWhatsapp} manualProduct={this.toggleIsManual}\r\n              clearList={this.clearList}\r\n          />\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({lists, user}, ownProps) => {return {user, list: lists[ownProps.match.params.list_id]}};\r\nexport default withRouter(connect(mapStateToProps)(ViewList));\r\n","import ViewList from './ViewList';\r\nexport default ViewList;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport moment         from 'moment';\r\nimport {withRouter}   from 'react-router-dom';\r\n\r\nclass Notification extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.viewNotification = this.viewNotification.bind(this);\r\n  }\r\n  viewNotification(){\r\n    let {notification_id} = this.props.noti;\r\n    this.props.history.push(`/notifications/${notification_id}`);\r\n  }\r\n\r\n  render(){\r\n      let {noti} = this.props;\r\n      let isToday = moment(noti.modifiedAt).isSame(moment(), 'date');\r\n      return(\r\n        <div className={`Notification ${!noti.isRead && 'unRead'}`} onClick={this.viewNotification}>\r\n          <div className='title'>\r\n            <div className='primary'>{noti.title.primary}</div>\r\n            <div className='secondary'>{noti.title.secondary}</div>\r\n          </div>\r\n          <div className='at'>\r\n            <div className='time'>{moment(noti.modifiedAt).format('HH:mm')}</div>\r\n            {!isToday && <div className='date'>{moment(noti.modifiedAt).format('DD/MM/YY')}</div>}\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default withRouter(Notification);\r\n","import Notification from './Notification';\r\nexport default Notification;\r\n","import EmptyNotifications from './EmptyNotifications';\r\nexport default EmptyNotifications;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nconst EmptyNotifications = () => {\r\n  return(\r\n    <div className='EmptyNotifications'>\r\n      <div className=\"icon\"><Icon icon=\"file\" faType=\"far\"/></div>\r\n      <div className='primary'>  </div>      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmptyNotifications;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {connect}            from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {markUnNew}    from '../../../actions/notification';\r\n\r\nimport MenuToggler  from '../../Misc/MenuToggler';\r\nimport Icon from '../../Misc/Icon';\r\nimport Notification from './Notification';\r\nimport EmptyNotifications from './EmptyNotifications';\r\n\r\nclass Notifications extends Component{\r\n  componentDidMount(){\r\n    const newCounter    = _.filter(this.props.notifications, (noti) => noti.isNew===1).length;\r\n    if(newCounter>0)\r\n      this.props.markUnNew();\r\n  }\r\n  renderNotifications(){\r\n    let arr = _.values(this.props.notifications);\r\n    if(arr.length===0)\r\n      return <EmptyNotifications />;\r\n\r\n    let Notifications = _.map(arr.reverse(), (noti, i) => {\r\n      return <Notification key={i} noti={noti} />\r\n    })\r\n    return Notifications;\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='Page Notifications'>\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'></div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n        <main className='list-notifications'>\r\n          {this.renderNotifications()}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({notifications}) => {return {notifications}};\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({markUnNew}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\r\n","import Notifications from './Notifications';\r\nexport default Notifications;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {connect}              from 'react-redux';\r\nimport {bindActionCreators}   from 'redux';\r\nimport {confirmNotification}  from '../../../../actions/notification';\r\nimport moment from 'moment';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nclass SharedList extends Component{\r\n  isConfirmation(){\r\n    let {noti} = this.props;\r\n    if(noti.isConfirm===0)\r\n      return null;\r\n    return (<footer className='confirmation'>\r\n              <button onClick={() => this.props.confirmNotification(noti.notification_id)}></button>\r\n            </footer>\r\n    );\r\n  }\r\n  render(){\r\n    let {noti} = this.props;\r\n    let {status} = noti;\r\n    if(!noti) return null;\r\n    let isToday = moment(noti.createdAt).isSame(moment(), 'date');\r\n    let icon;\r\n    if(status===1) //wait for confirmation\r\n      icon = 'share-alt'\r\n    else if(status===2 || status===3) //user removed from list\r\n      icon = 'user-times';\r\n    else if(status===4 || status===10) //user joined group\r\n      icon = 'handshake';\r\n    return(\r\n      <div className='SharedList'>\r\n        <main>\r\n          <div className='title'>\r\n            <div className='topic'>\r\n                {noti.title.primary}\r\n                <div className='secondary'>\r\n                  {noti.title.secondary}\r\n                </div>\r\n            </div>\r\n            <div className='at'>\r\n              <div className='time'>{moment(noti.createdAt).format('HH:mm')}</div>\r\n              {!isToday && <div className='date'>{moment(noti.createdAt).format('DD/MM/YY')}</div>}\r\n            </div>\r\n          </div>\r\n          <div className='img'>\r\n            <Icon icon={icon}/>\r\n          </div>\r\n          <div className='question'>\r\n            {noti.title.secondary}\r\n          </div>\r\n        </main>\r\n        {this.isConfirmation()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({confirmNotification}, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(SharedList);\r\n","import SharedList from './SharedList';\r\nexport default SharedList;\r\n","import DataListAPI from './DataListAPI';\r\nexport default DataListAPI;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {API_CALL} from '../../../consts';\r\nimport _ from 'lodash';\r\n\r\nclass DataListAPI extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {data: []};\r\n\r\n    this.handleChange   =   this.handleChange.bind(this);\r\n    this.fetchAPI       =   this.fetchAPI.bind(this);\r\n    this.renderOptions  =   this.renderOptions.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchAPI();\r\n  }\r\n  fetchAPI(){\r\n    let {api} = this.props;\r\n    if(!api) return false;\r\n    API_CALL(api.verb, api.url).then((data) => {\r\n      this.setState({data});\r\n    }).catch((e) => {\r\n      setTimeout(this.fetchAPI, 1000);\r\n    });\r\n  }\r\n  renderOptions(){\r\n    let Options = _.map(this.state.data, (opt) => {\r\n      return <option key={opt.id} value={opt.name} />\r\n    })\r\n    return Options;\r\n  }\r\n  handleChange(e){\r\n    let {value} = e.target;\r\n    this.props.onChange(e);\r\n    let opt = _.find(this.state.data, {name: value});\r\n    this.props.onSelect(opt ? opt.id : 0); //trigger onSelect only if dataList MATCH option\r\n  }\r\n  render(){\r\n    let {value, name, placeholder} = this.props;\r\n    let {data} = this.state;\r\n    if(data.length===0) return null;\r\n    return(\r\n      <div className='DataListAPI'>\r\n        <input list={name} name={name} value={value} onChange={this.handleChange} placeholder={placeholder} required />\r\n        <datalist id={name}>\r\n          {this.renderOptions()}\r\n        </datalist>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DataListAPI;\r\n","import SelectAPI from './SelectAPI';\r\nexport default SelectAPI;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {API_CALL} from '../../../consts';\r\nimport _ from 'lodash';\r\n\r\nclass SelectAPI extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {data: []};\r\n\r\n    this.fetchAPI = this.fetchAPI.bind(this);\r\n    this.renderOptions = this.renderOptions.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchAPI();\r\n  }\r\n  fetchAPI(){\r\n    let {api} = this.props;\r\n    if(!api) return false;\r\n    API_CALL(api.verb, api.url).then((data) => {\r\n      this.setState({data});\r\n    }).catch((e) => {\r\n      setTimeout(this.fetchAPI, 1000);\r\n    });\r\n  }\r\n  renderOptions(){\r\n    let Options = _.map(this.state.data, (opt) => {\r\n      return <option key={opt.id} value={opt.id}>{opt.name}</option>\r\n    })\r\n    Options.unshift(<option key={0} value=\"\" disabled>{this.props.placeholder}</option>);\r\n    return Options;\r\n  }\r\n  render(){\r\n    let {value, name} = this.props;\r\n    return(\r\n      <select className={`SelectAPI ${!value && 'disabled'}`} value={value} name={name}\r\n              onChange={this.props.onChange} required={this.props.required}>\r\n        {this.renderOptions()}\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectAPI;\r\n","import ModalBarcode from './ModalBarcode';\r\nexport default ModalBarcode;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport DataListAPI from '../../../Misc/DataListAPI';\r\nimport SelectAPI from '../../../Misc/SelectAPI';\r\n\r\nclass ModalBarcode extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    const product = this.props.noti.product;\r\n\r\n    this.state = {\r\n      barcode: this.props.barcode,\r\n      product_name:     product ? product.product_name.split(' -')[0]  : '',\r\n      category_id:      product ? product.category_id       : '',\r\n      capacity_unit_id: product ? product.capacity_unit_id  : '',\r\n      capacity:         product ? product.capacity          : '',\r\n      brand_id:         product ? product.brand_id          : '',\r\n      brand_text:       product ? product.brand_name        : ''\r\n    }\r\n    this.handleChange     =     this.handleChange.bind(this);\r\n    this.submit           =     this.submit.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.product_name.focus();\r\n  }\r\n  handleChange(e){\r\n    let {name, value} = e.target;\r\n    let stateObj = {}; stateObj[name] = value;\r\n    this.setState(stateObj);\r\n  }\r\n  submit(e){\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n  }\r\n  render(){\r\n    let {state} = this;\r\n    let {product} = this.props.noti;\r\n    return(\r\n      <div className='ModalBarcode'>\r\n        <header className='modal-header'>\r\n          <div className='title'>{product ? ' ' : ' '}</div>\r\n        </header>\r\n        <form onSubmit={this.submit} onReset={() => this.props.close()}>\r\n          <header> </header>\r\n            <div className='field'>\r\n              <div></div>\r\n              <div><input type='text' name='barcode' value={state.barcode} onChange={this.handleChange} required readOnly /></div>\r\n            </div>\r\n          <div className='field'>\r\n            <div> </div>\r\n            <div><input type='text' name='product_name' value={state.product_name} onChange={this.handleChange} placeholder=\":  \" required ref={(input) => {this.product_name=input}} /></div>\r\n          </div>\r\n          <header> </header>\r\n          <div className='field row'>\r\n            <div></div>\r\n            <div>\r\n              <DataListAPI api={{verb:'GET', url: '/db/brands'}} placeholder=': ' required\r\n                  name='brand_text' value={state.brand_text} onChange={this.handleChange}\r\n                  onSelect={(val) => this.setState({brand_id: val})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='field row'>\r\n            <div></div>\r\n            <div>\r\n              <SelectAPI api={{verb:'GET', url: '/db/categories'}} placeholder='  ' required\r\n                  name='category_id' value={state.category_id} onChange={this.handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='field row'>\r\n            <div></div>\r\n            <div className='multiple'>\r\n              <div><input type='number' name='capacity' value={state.capacity} onChange={this.handleChange} placeholder='650' required /></div>\r\n              <div>\r\n                <SelectAPI api={{verb:'GET', url: '/db/capacity_units'}} placeholder='' required\r\n                    name='capacity_unit_id' value={state.capacity_unit_id} onChange={this.handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <footer>\r\n            <div className='cancel'><button   type=\"reset\"></button></div>\r\n            <div className='confirm'><button  type=\"submit\"></button></div>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalBarcode;\r\n","import ScanNotExists from './ScanNotExists';\r\nexport default ScanNotExists;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport moment from 'moment';\r\nimport Icon from '../../../Misc/Icon';\r\nimport Modal from   '../../../Misc/MyModal';\r\nimport ModalBarcode from '../ModalBarcode';\r\nimport {API_CALL} from '../../../../consts';\r\n\r\nclass ScanNotExists extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isModal: false}\r\n\r\n    this.toggleIsModal  =   this.toggleIsModal.bind(this);\r\n    this.submit         =   this.submit.bind(this);\r\n  }\r\n  toggleIsModal(){\r\n    let isModal = !(this.state.isModal);\r\n    this.setState({isModal});\r\n  }\r\n  submit(newProduct){\r\n    const {notification_id} = this.props.noti;\r\n    API_CALL('POST', `/notification/${notification_id}/newProductForm`, {newProduct}).then((cb) => {\r\n      this.toggleIsModal();\r\n    });\r\n  }\r\n  render(){\r\n    let {noti}    =   this.props;\r\n    let {status}  =   noti;\r\n    if(!noti) return null;\r\n    let barcode = noti.subject_id;\r\n    let isToday = moment(noti.createdAt).isSame(moment(), 'date');\r\n    return(\r\n      <div className='ScanNotExists'>\r\n        <Modal isOpen={this.state.isModal} >\r\n          <ModalBarcode close={this.toggleIsModal} barcode={noti.subject_id} noti={noti} onSubmit={this.submit} />\r\n        </Modal>\r\n        <main>\r\n          <div className='title'>\r\n            <div className='topic'>\r\n                   \r\n                <div className='barcode'>\r\n                  : {barcode}\r\n                  {status===10 &&\r\n                    <div>\r\n                         \r\n                    </div>\r\n                  }\r\n                </div>\r\n            </div>\r\n            <div className='at'>\r\n              <div className='time'>{moment(noti.createdAt).format('HH:mm')}</div>\r\n              {!isToday && <div className='date'>{moment(noti.createdAt).format('DD/MM/YY')}</div>}\r\n            </div>\r\n          </div>\r\n          <div className='img'>\r\n            <Icon icon='barcode'/>\r\n          </div>\r\n          <div className='question'>\r\n            {status===1 &&\r\n              <div>\r\n                    \r\n                <br/>\r\n                   ?\r\n              </div>\r\n            }\r\n            {status===10 &&\r\n              <div>\r\n                <div className='primary'>   </div>\r\n                <br/><br/>\r\n                     Gulo\r\n              </div>\r\n            }\r\n          </div>\r\n        </main>\r\n        {status===1 &&\r\n           <footer>\r\n             <button onClick={this.toggleIsModal}>  </button>\r\n           </footer>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScanNotExists;\r\n","import VerifyProduct from './VerifyProduct';\r\nexport default VerifyProduct;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport moment from 'moment';\r\nimport Icon from '../../../Misc/Icon';\r\nimport Modal from   '../../../Misc/MyModal';\r\nimport ModalBarcode from '../ModalBarcode';\r\nimport {API_CALL} from '../../../../consts';\r\n\r\nclass VerifyProduct extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isModal: false}\r\n    this.toggleIsModal        = this.toggleIsModal.bind(this);\r\n    this.renderVerifyQuestion = this.renderVerifyQuestion.bind(this);\r\n    this.renderVerified       = this.renderVerified.bind(this);\r\n    this.renderOverwrited     = this.renderOverwrited.bind(this);\r\n\r\n    this.overwrite            = this.overwrite.bind(this);\r\n    this.verify               = this.verify.bind(this);\r\n  }\r\n  toggleIsModal(){\r\n    let isModal = !(this.state.isModal);\r\n    this.setState({isModal});\r\n  }\r\n  verify(){\r\n    const {notification_id, product} = this.props.noti;\r\n    API_CALL('POST', `/notification/${notification_id}/verifyProduct`, {product}).then((cb) => {\r\n      console.log(cb);\r\n    });\r\n  }\r\n  overwrite(product){\r\n    const {notification_id} = this.props.noti;\r\n    API_CALL('POST', `/notification/${notification_id}/overwriteProduct`, {product}).then((cb) => {\r\n      this.toggleIsModal();\r\n    });\r\n  }\r\n  renderVerifyQuestion(){\r\n    let {noti} = this.props;\r\n    console.log(noti);\r\n    return(\r\n      <div className='VerifyQuestion'>\r\n        <div className='product-details'>\r\n           <div className='product-name'>{noti.product.product_name}</div>\r\n           <div>\r\n             <div>:</div>\r\n             <div>{noti.product.category_name}</div>\r\n           </div>\r\n           <div>\r\n             <div>:</div>\r\n             <div>{noti.product.brand_name}</div>\r\n           </div>\r\n           <div>\r\n             <div>:</div>\r\n             <div>{noti.product.capacity} {noti.product.unit_name}</div>\r\n           </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  renderOverwrited(){\r\n    let {noti} = this.props;\r\n    let {product} = noti;\r\n    return(\r\n      <div className='Overwrited'>\r\n        <div className='product-name'>{product.barcode} - {product.product_name}</div>\r\n        <div className='desc'> </div>\r\n        <div className='thanks'>     Gulo</div>\r\n      </div>\r\n    );\r\n  }\r\n  renderVerified(){\r\n    let {noti} = this.props;\r\n    let {product} = noti;\r\n    return(\r\n      <main className='Verified'>\r\n        <div className='product-name'>{product.barcode} - {product.product_name}</div>\r\n        <div className='desc'> </div>\r\n        <div className='thanks'>     Gulo</div>\r\n      </main>\r\n    );\r\n  }\r\n  render(){\r\n    let {noti}    =   this.props;\r\n    let {status}  =   noti;\r\n    if(!noti) return null;\r\n    let barcode = noti.subject_id;\r\n    let isToday = moment(noti.createdAt).isSame(moment(), 'date');\r\n    return(\r\n      <div className='VerifyProduct'>\r\n        <Modal isOpen={this.state.isModal} >\r\n          <ModalBarcode close={this.toggleIsModal} barcode={noti.subject_id} noti={noti} onSubmit={this.overwrite} />\r\n        </Modal>\r\n        <main>\r\n          <div className='title'>\r\n            <div className='topic'>\r\n                   \r\n                <div className='barcode'>\r\n                  : {barcode}\r\n                  {status===1   &&  <div> </div>}\r\n                  {status===10  && <div> </div>}\r\n                  {status===100 && <div>  </div>}\r\n                </div>\r\n            </div>\r\n            <div className='at'>\r\n              <div className='time'>{moment(noti.createdAt).format('HH:mm')}</div>\r\n              {!isToday && <div className='date'>{moment(noti.createdAt).format('DD/MM/YY')}</div>}\r\n            </div>\r\n          </div>\r\n          <div className={`img ${(status===1 || status===10) && 'smaller'}`}>\r\n            <Icon icon='barcode'/>\r\n          </div>\r\n          <div className='memo'>\r\n            {status===1   && this.renderVerifyQuestion()}\r\n            {status===10  && this.renderVerified()}\r\n            {status===100 && this.renderOverwrited()}\r\n          </div>\r\n        </main>\r\n        {status===1 && <footer>\r\n          <button onClick={this.verify}> </button>\r\n          <button className='secondary' onClick={this.toggleIsModal}></button>\r\n        </footer>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VerifyProduct;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {withRouter, Redirect}     from 'react-router-dom';\r\nimport {connect}        from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {markRead, deleteNotification}           from '../../../actions/notification';\r\n\r\nimport Icon             from '../../Misc/Icon';\r\n//import MenuToggler      from '../../Misc/MenuToggler';\r\nimport SharedList       from './SharedList';\r\nimport ScanNotExists    from './ScanNotExists';\r\nimport VerifyProduct    from './VerifyProduct';\r\n\r\nclass ViewNotification extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.renderNotification = this.renderNotification.bind(this);\r\n    this.deleteNotification = this.deleteNotification.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    let {noti} = this.props;\r\n    if(!noti) return <Redirect to='/notifications' />;\r\n    if(noti.isRead===0)\r\n      this.props.markRead(this.props.noti.notification_id);\r\n  }\r\n  renderNotification(){\r\n    let {noti} = this.props;\r\n    let type = noti.notification_type_id;\r\n    switch(type){\r\n      case 1:\r\n        return <SharedList noti={noti} />\r\n      case 3:\r\n        return <ScanNotExists noti={noti} />\r\n      case 4:\r\n        return <VerifyProduct noti={noti} />\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  deleteNotification(){\r\n    let {noti} = this.props;\r\n    this.props.deleteNotification(noti.notification_id);\r\n    this.props.history.goBack();\r\n  }\r\n  render(){\r\n    let {noti} = this.props;\r\n    console.log(noti);\r\n    // if(!noti) return <Redirect to='/notifications' />;\r\n    if(!noti) return null;\r\n    return(\r\n      <div className='Page ViewNotification'>\r\n        <header>\r\n          <div className='right'><Icon className='trash' icon='trash' hoverColor='red' onClick={this.deleteNotification} /></div>\r\n          <div className='title'>{noti.topic}</div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n        \r\n        {this.renderNotification()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({notifications}, ownProps) => {return {noti: notifications[ownProps.match.params.notification_id]}};\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({markRead, deleteNotification}, dispatch);\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(ViewNotification));\r\n","import ViewNotification from './ViewNotification';\r\nexport default ViewNotification;\r\n","import React, {Component}   from 'react';\r\nimport './style.scss';\r\nimport '../../FontAwesomeLib';\r\nimport SocketListener from './SocketListener';\r\n\r\nimport {Route, Switch}                  from  'react-router-dom';\r\nimport {connect}                        from 'react-redux';\r\nimport {fetchLists}         from '../../actions/list';\r\nimport {fetchNotifications} from '../../actions/notification';\r\n\r\nimport VerifyAuth   from '../VerifyAuth';\r\nimport SideMenu     from  './SideMenu';\r\nimport Lists        from  './Lists';\r\nimport ViewList     from  './ViewList';\r\n\r\nimport Notifications    from './Notifications';\r\nimport ViewNotification from './ViewNotification';\r\n\r\n\r\nclass Gulo extends Component{\r\n  componentDidMount(){\r\n    this.props.fetchLists();\r\n    this.props.fetchNotifications();\r\n  }\r\n\r\n  render(){\r\n    const {user} = this.props;\r\n    if(!user) return <VerifyAuth/>\r\n    return(\r\n      <div className='Gulo'>\r\n        <VerifyAuth/>\r\n        <SocketListener />\r\n        <SideMenu />\r\n        <Switch>\r\n          <Route path='/list/:list_id' component={ViewList}/>\r\n          <Route path='/notifications/:notification_id' component={ViewNotification}/>\r\n          <Route path='/notifications' component={Notifications}/>\r\n          <Route path='/' component={Lists}/>\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user}) => {return {user} };\r\n\r\nexport default connect(mapStateToProps, {fetchLists, fetchNotifications})(Gulo);\r\n","import Gulo from './Gulo';\r\nexport default Gulo;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport Login  from  './components/Login';\r\nimport Gulo   from  './components/Gulo';\r\n\r\nclass Router extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/Login\" component={Login}></Route>\r\n            <Route path=\"/\" component={Gulo}></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Router;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport ReduxPromise from 'redux-promise';\nimport reducers from './reducers';\n\nimport Router from './Router.js';\n\nconst createStoreWithMiddleware = applyMiddleware(ReduxPromise)(createStore);\n\nReactDOM.render(\n  <Provider store={createStoreWithMiddleware(reducers)}>\n    <Router />\n  </Provider>\n, document.getElementById('root'));\n\nserviceWorker.unregister();\n","const axios = require('axios');\r\n\r\nconst URI = window.location.hostname.includes('heroku') || window.location.hostname.includes('montv10.net') ?\r\n                \"https://montv10.net:9400\" : \"http://localhost:9400\"; //https://gulo-service.herokuapp.com\r\nconsole.log(`service-url: ${URI}`);\r\n\r\nconst API_CALL = (verb, path, data) => {\r\n  return new Promise((resolve, reject) => {\r\n    let url = `${URI}${path}`;\r\n    console.log(url);\r\n\r\n    axios(`${URI}${path}`, {\r\n      method: verb,\r\n      withCredentials: true,\r\n      data\r\n    }).then((res) => {\r\n      resolve(res.data);\r\n    }).catch((err) => {\r\n      reject(err);\r\n    })\r\n  });\r\n}\r\n\r\nmodule.exports = {\r\n  API_CALL,\r\n  URI\r\n}\r\n"],"sourceRoot":""}