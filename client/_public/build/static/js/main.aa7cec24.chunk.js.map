{"version":3,"sources":["consts/index.js","serviceWorker.js","actions/user/index.js","reducers/user_reducer.js","actions/list/index.js","actions/list/product/index.js","actions/list/manual_product/index.js","reducers/lists_reducer.js","actions/notification/index.js","reducers/notifications_reducer.js","actions/UI/index.js","reducers/isMenu_reducer.js","actions/socket/index.js","reducers/socket_reducer.js","actions/firebase/index.js","reducers/firebase_reducer.js","reducers/index.js","plugins/Storage/index.js","components/Login/Login.js","components/Login/index.js","FontAwesomeLib.js","components/Gulo/SocketListener/SocketListener.js","components/Gulo/SocketListener/index.js","components/VerifyAuth/VerifyAuth.js","components/VerifyAuth/index.js","components/Misc/Icon/index.js","components/Misc/Icon/Icon.js","components/Misc/MenuToggler/MenuToggler.js","components/Misc/MenuToggler/index.js","components/Gulo/SideMenu/SideMenu.js","components/Gulo/SideMenu/index.js","components/Gulo/Lists/EmptyList/index.js","components/Gulo/Lists/EmptyList/EmptyList.js","components/Gulo/Lists/List/index.js","components/Gulo/Lists/List/List.js","components/Misc/MyModal/MyModal.js","components/Misc/MyModal/index.js","components/Misc/RadiosAPI/index.js","components/Misc/RadiosAPI/RadiosAPI.js","components/Gulo/Lists/ModalList/ListShares/index.js","components/Gulo/Lists/ModalList/ListShares/ListShares.js","components/Gulo/Lists/ModalList/ModalList.js","components/Gulo/Lists/ModalList/index.js","components/Gulo/Lists/Lists.js","components/Gulo/Lists/index.js","components/Gulo/ViewList/ModalProduct/index.js","components/Gulo/ViewList/ModalProduct/ModalProduct.js","components/Gulo/ViewList/OptionsToggler/index.js","components/Gulo/ViewList/OptionsToggler/OptionsToggler.js","components/Gulo/ViewList/Product/index.js","components/Gulo/ViewList/Product/Product.js","components/Gulo/ViewList/CatGroup/index.js","components/Gulo/ViewList/CatGroup/CatGroup.js","components/Gulo/ViewList/ViewList.js","components/Gulo/ViewList/index.js","components/Gulo/Notifications/Notification/Notification.js","components/Gulo/Notifications/Notification/index.js","components/Gulo/Notifications/EmptyNotifications/index.js","components/Gulo/Notifications/EmptyNotifications/EmptyNotifications.js","components/Gulo/Notifications/Notifications.js","components/Gulo/Notifications/index.js","components/Gulo/ViewNotification/SharedList/SharedList.js","components/Gulo/ViewNotification/SharedList/index.js","components/Misc/DataListAPI/index.js","components/Misc/DataListAPI/DataListAPI.js","components/Misc/SelectAPI/index.js","components/Misc/SelectAPI/SelectAPI.js","components/Gulo/ViewNotification/ModalBarcode/index.js","components/Gulo/ViewNotification/ModalBarcode/ModalBarcode.js","components/Gulo/ViewNotification/ScanNotExists/index.js","components/Gulo/ViewNotification/ScanNotExists/ScanNotExists.js","components/Gulo/ViewNotification/VerifyProduct/index.js","components/Gulo/ViewNotification/VerifyProduct/VerifyProduct.js","components/Gulo/ViewNotification/ViewNotification.js","components/Gulo/ViewNotification/index.js","components/Gulo/BestShoppingCart/ShoppingCart/index.js","components/Gulo/BestShoppingCart/ShoppingCart/ShoppingCart.js","components/Gulo/BestShoppingCart/BestShoppingCart.js","components/Gulo/BestShoppingCart/index.js","components/Gulo/Gulo.js","components/Gulo/index.js","firebaseConfig.js","Router.js","index.js"],"names":["URI","axios","require","window","location","hostname","includes","console","log","concat","module","exports","API_CALL","verb","path","data","Promise","resolve","reject","url","method","withCredentials","then","res","catch","err","Boolean","match","FIREBASE_LOGIN","AUTO_LOGIN","VERIFY_AUTH","SET_USER","LOGOUT","firebaseLogin","user","req","type","payload","verifyAuth","setUser","_callee","firebase","storage","regenerator_default","a","wrap","_context","prev","next","auth","signOut","localStorage","removeItem","abrupt","stop","FETCH_LISTS","INSERT_LIST","UPDATE_LIST","DELETE_LIST","fetchLists","insertList","list","UPDATE_LIST_PRODUCT","DELETE_LIST_PRODUCT","UPDATE_LIST_MANUAL_PRODUCT","DELETE_LIST_MANUAL_PRODUCT","FETCH_NOTIFICATIONS","MARK_UNNEW","MARK_READ","CONFIRM_NOTIFICATION","INSERT_NOTIFICATION","DELETE_NOTIFICATION","UPDATE_NOTIFICATION","UPDATE_FIREBASE_NOTIFICATION_TOKEN","fetchNotifications","markUnNew","markRead","notification_id","confirmNotification","deleteNotification","TOGGLE_MENU","toggleMenu","SUBSCRIBE_SOCKET","SET_FIREBASE","setFirebase","rootReducer","combineReducers","state","arguments","length","undefined","action","error","lists","newState","product","mapLists","_","keyBy","forOwn","val","key","products","manual_products","newList","Object","objectSpread","defineProperty","list_id","updatedList","objectWithoutProperties","map","_toPropertyKey","id","cloneDeep","product_id","notifications","updatedNotification","noti_id","newNotification","notifications_reducer_toPropertyKey","isRead","isMenu","socket","disconnect","Device","Plugins","Storage","setItem","_setItem","asyncToGenerator","mark","value","_ref","platform","getInfo","sent","t0","set","_x","_x2","apply","this","getItem","_getItem","_callee2","_ref2","_context2","_x3","Login","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","googleLogin","bind","assertThisInitialized","facebookLogin","login","prevProps","googleProvider","GoogleAuthProvider","signInWithPopup","currentUser","getIdToken","idToken","_this2","e","message","facebookProvider","FacebookAuthProvider","_this3","code","alert","authToken","mail","history","push","react_default","createElement","className","onClick","Component","withRouter","connect","dispatch","bindActionCreators","library","add","faBars","faSearch","faHome","faEllipsisV","faPlus","faMinus","faUndo","faDesktop","faHotel","faArchive","faFile","faArrowLeft","faTrash","faClipboardList","faComment","farComment","faPowerOff","faBarcode","faBell","faTimes","faShareAlt","faWhatsapp","faBroom","faHandshake","faUserTimes","faShoppingCart","SocketListener","pushNotifications","PushNotifications","device","listen","subscribeSocket","io","on","updateList","deleteList","listProduct","updateListProduct","cb","deleteListProduct","updateListManualProduct","deleteListManualProduct","insertNotification","notification","deviceInfo","register","addListener","token","updateFirebaseNotificationToken","emit","VerifyAuth","Icon","hover","toggleHover","setState","_this$props","icon","title","size","style","hoverStyle","faType","color","hoverColor","theStyle","react_fontawesome_index_es","onMouseEnter","onMouseLeave","MenuToggler","unReadCounter","filter","noti","Misc_Icon","toggleStatus","SideMenu","link","logout","to","Misc_MenuToggler","src","pic","alt","firstname","lastname","marginRight","_logout","EmptyList","List","background","list_type_color","showList","list_type_icon","list_name","creator","fullname","editList","Modal","defaultStyles","overlay","backgroundColor","MyModal","react_modal_lib_default","isOpen","ariaHideApp","shouldCloseOnOverlayClick","onRequestClose","close","children","RadiosAPI","options","fetchAPI","api","setTimeout","name","option","bg","readOnly","target","renderRadios","ListShares","status","users","isValid","isSelected","handleChange","fetchUsers","validateInsert","renderOptions","prevState","shares","redirectToLogin","share","validateRemove","Manager","unshift","preventDefault","_this$state","isExists","find","onInsert","isCreator","confirm","onRemove","_this4","opt","toLowerCase","user_id","optionSelected","_this$state2","onChange","placeholder","renderSharesList","ModalList","list_type","list_type_id","device_id","device_password","password","shares_deleted","shares_inserted","submit","insertShare","removeShare","delete","_e$target","stateObj","toConsumableArray","sd","si","s","response","onSubmit","onReset","required","Misc_RadiosAPI","ModalList_ListShares","Lists","isModal","toggleIsModal","addEventListener","ev","Lists_List","Lists_EmptyList","Misc_MyModal","Lists_ModalList","renderLists","renderEmpty","ModalProduct","product_name","quantity","memo","increaseQuantity","decreaseQuantity","handleMemo","update","new","focus","p_route","isManual","_this5","ref","input","OptionsToggler","toggle","clearList","bestShoppingCart","shareWhatsapp","scanBarcode","manualProduct","renderTrue","renderFalse","Product","_this$props$product","Quantity","isChecked","toggleCheck","onEdit","CatGroup","isExpand","toggleExpand","cat","ViewList_Product","setProduct","cat_name","category_name","unCheckedProducts","renderProducts","ViewList","barcodeScanner","BarcodeScanner","checkListID","setPlatform","toggleIsManual","toggleIsMenu","goBestShoppingCart","cats","groupBy","manual","toArray","i","ViewList_CatGroup","text","arr","p","open","encodeURI","scan","barcode","cancelled","ViewList_ModalProduct","goBack","renderCatGroups","ViewList_OptionsToggler","ownProps","params","Notification","viewNotification","isToday","moment","modifiedAt","isSame","primary","secondary","format","EmptyNotifications","Notifications","isNew","values","Notifications_EmptyNotifications","reverse","Notifications_Notification","renderNotifications","SharedList","isConfirm","createdAt","isConfirmation","DataListAPI","test","onSelect","SelectAPI","disabled","ModalBarcode","split","category_id","capacity_unit_id","capacity","brand_id","brand_text","brand_name","Misc_DataListAPI","Misc_SelectAPI","ScanNotExists","newProduct","subject_id","ViewNotification_ModalBarcode","VerifyProduct","renderVerifyQuestion","renderVerified","renderOverwrited","overwrite","verify","_this$props$noti","unit_name","ViewNotification","renderNotification","Redirect","notification_type_id","ViewNotification_SharedList","ViewNotification_ScanNotExists","ViewNotification_VerifyProduct","topic","ShoppingCart","cart","missing_products","differenceBy","price","total_price","_this$props2","firm_logo","renderExpand","BestShoppingCart","carts","fetchCarts","sortBy","orderBy","BestShoppingCart_ShoppingCart","shopping_cart_firm_id","renderShoppingCarts","Gulo","fetchData","Gulo_SocketListener","Gulo_SideMenu","Switch","Route","component","components_VerifyAuth","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","StatusBar","Router","hideStatusBar","hide","BrowserRouter","createStoreWithMiddleware","applyMiddleware","ReduxPromise","createStore","ReactDOM","render","es","store","reducers","src_Router","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aa7cec24.chunk.js","sourcesContent":["const axios = require('axios');\r\n\r\nlet URI;\r\nif(process.env.NODE_ENV==='production')\r\n  URI = \"http://montv10.net:9400\";  // URI = \"http://10.0.2.2:9400\";\r\nif(window.location.hostname.includes('montv10.net'))\r\n  URI = \"http://montv10.net:9400\";\r\n\r\nif(!URI)\r\n  URI = \"http://localhost:9400\";\r\n\r\nconsole.log(`service-url: ${URI}`);\r\n\r\nconst API_CALL = (verb, path, data) => {\r\n  return new Promise((resolve, reject) => {\r\n    let url = `${URI}${path}`;\r\n    console.log(`API_CALL: ${url}`);\r\n\r\n    axios(`${URI}${path}`, {\r\n      method: verb,\r\n      withCredentials: true,\r\n      data\r\n    }).then((res) => {\r\n      resolve(res.data);\r\n    }).catch((err) => {\r\n      console.log(`API_CALL ERROR`);\r\n      console.log(err);\r\n      reject(err);\r\n    })\r\n  });\r\n}\r\n\r\nmodule.exports = {\r\n  API_CALL,\r\n  URI\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {API_CALL} from '../../consts';\r\n\r\nexport const FIREBASE_LOGIN   =   'FIREBASE_LOGIN';\r\nexport const AUTO_LOGIN       =   'AUTO_LOGIN';\r\nexport const VERIFY_AUTH      =   'VERIFY_AUTH';\r\nexport const SET_USER         =   'SET_USER';\r\nexport const LOGOUT           =   'LOGOUT';\r\n\r\nexport function firebaseLogin(user){\r\n  const req = API_CALL('POST', '/user/login/firebase', user);\r\n\r\n  return{\r\n    type: FIREBASE_LOGIN,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function autoLogin(email){\r\n  const req = API_CALL('POST', '/user/login/auto-login', {email});\r\n\r\n  return{\r\n    type: AUTO_LOGIN,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function verifyAuth(){\r\n  const user = API_CALL('POST', '/user/login/auth-test');\r\n  return{\r\n    type: VERIFY_AUTH,\r\n    payload: user\r\n  };\r\n}\r\nexport function setUser(user){\r\n  return{\r\n    type: SET_USER,\r\n    payload: user\r\n  };\r\n}\r\n\r\nexport async function logout(firebase){\r\n  await firebase.auth().signOut().then(() => {\r\n    console.log(`signed out from firebase!`);\r\n  });\r\n  const storage = window.localStorage;\r\n  await storage.removeItem('authToken');\r\n  await storage.removeItem('mail');\r\n\r\n  const req = API_CALL('POST', '/user/logout');\r\n  return{\r\n    type: LOGOUT,\r\n    payload: req\r\n  };\r\n}\r\n","import {FIREBASE_LOGIN, AUTO_LOGIN, VERIFY_AUTH, SET_USER, LOGOUT} from '../actions/user/index';\r\n\r\nexport default function(state=null, action){\r\n  switch(action.type){\r\n    case VERIFY_AUTH:\r\n    case SET_USER:\r\n    case AUTO_LOGIN:\r\n    case FIREBASE_LOGIN:\r\n      if(action.error){\r\n        console.log(\"login failed\");\r\n        return null;\r\n      }\r\n      return action.payload;\r\n    case LOGOUT:      \r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {API_CALL} from '../../consts';\r\n\r\nexport const FETCH_LISTS      =   'FETCH_LISTS';\r\nexport const INSERT_LIST      =   'INSERT_LIST';\r\nexport const UPDATE_LIST      =   'UPDATE_LIST';\r\nexport const DELETE_LIST      =   'DELETE_LIST';\r\n\r\nexport function fetchLists(){\r\n  const req = API_CALL('GET', '/list');\r\n  return{\r\n    type: FETCH_LISTS,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function insertList(list){\r\n  return {\r\n    type: INSERT_LIST,\r\n    payload: list\r\n  }\r\n}\r\nexport function deleteList(list_id){\r\n  return {\r\n    type: DELETE_LIST,\r\n    payload: list_id\r\n  }\r\n}\r\nexport function updateList(list){\r\n  return {\r\n    type: UPDATE_LIST,\r\n    payload: list\r\n  }\r\n}\r\n","//import {API_CALL} from '../../consts';\r\n\r\nexport const UPDATE_LIST_PRODUCT          =      'UPDATE_LIST_PRODUCT';\r\nexport const DELETE_LIST_PRODUCT          =      'DELETE_LIST_PRODUCT';\r\n\r\nexport function updateListProduct(product){\r\n  return{\r\n    type: UPDATE_LIST_PRODUCT,\r\n    payload: product\r\n  };\r\n}\r\n\r\nexport function deleteListProduct(list_id, product_id){\r\n  return {\r\n    type: DELETE_LIST_PRODUCT,\r\n    payload: {list_id, product_id}\r\n  }\r\n}\r\n","//import {API_CALL} from '../../consts';\r\n\r\nexport const UPDATE_LIST_MANUAL_PRODUCT   =      'UPDATE_LIST_MANUAL_PRODUCT';\r\nexport const DELETE_LIST_MANUAL_PRODUCT   =      'DELETE_LIST_MANUAL_PRODUCT';\r\n\r\nexport function updateListManualProduct(product){\r\n  return{\r\n    type: UPDATE_LIST_MANUAL_PRODUCT,\r\n    payload: product\r\n  };\r\n}\r\n\r\nexport function deleteListManualProduct(list_id, product_id){\r\n  return {\r\n    type: DELETE_LIST_MANUAL_PRODUCT,\r\n    payload: {list_id, product_id}\r\n  }\r\n}\r\n","import {FETCH_LISTS, INSERT_LIST, UPDATE_LIST, DELETE_LIST}               from '../actions/list';\r\nimport {UPDATE_LIST_PRODUCT, DELETE_LIST_PRODUCT}                         from '../actions/list/product';\r\nimport {UPDATE_LIST_MANUAL_PRODUCT, DELETE_LIST_MANUAL_PRODUCT}           from '../actions/list/manual_product';\r\nimport _ from 'lodash';\r\n\r\nexport default function(state={}, action){\r\n  let newState, product;\r\n\r\n  switch(action.type){\r\n    case FETCH_LISTS:\r\n      if(action.error){\r\n        console.log(\"fetch lists failed\");\r\n        return state;\r\n      }\r\n\r\n      let mapLists = _.keyBy(action.payload, 'list_id'); //convert array to mapped object\r\n      _.forOwn(mapLists, (val,key) => {\r\n        val.products        =   _.keyBy(val.products, 'id') //map products array to mapped object\r\n        val.manual_products =   _.keyBy(val.manual_products, 'id') //map products array to mapped object\r\n      })\r\n      console.log(mapLists);\r\n      return mapLists;\r\n\r\n    case INSERT_LIST:\r\n      let newList = action.payload;\r\n      return { ...state, [newList.list_id]: newList };\r\n\r\n    case UPDATE_LIST:\r\n      let updatedList = action.payload;\r\n      return { ...state, [updatedList.list_id]: updatedList };\r\n\r\n    case DELETE_LIST:\r\n      let list_id = action.payload;\r\n      const {[list_id]: value, ...listsAfterDelete } = state;\r\n      return listsAfterDelete;\r\n\r\n    case UPDATE_LIST_PRODUCT:\r\n      product = action.payload;\r\n      return {...state, [product.list_id]: {...state[product.list_id], 'products': {...state[product.list_id]['products'], [product.id]:  product}}};\r\n\r\n    case UPDATE_LIST_MANUAL_PRODUCT:\r\n      product = action.payload;\r\n      return {...state, [product.list_id]: {...state[product.list_id], 'manual_products': {...state[product.list_id]['manual_products'], [product.id]:  product}}};\r\n\r\n    case DELETE_LIST_PRODUCT:\r\n      newState = _.cloneDeep(state);\r\n      delete newState[action.payload.list_id].products[action.payload.product_id];\r\n      return newState;\r\n\r\n    case DELETE_LIST_MANUAL_PRODUCT:\r\n      newState = _.cloneDeep(state);\r\n      delete newState[action.payload.list_id].manual_products[action.payload.product_id];\r\n      return newState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {API_CALL} from '../../consts';\r\n\r\nexport const FETCH_NOTIFICATIONS    =   'FETCH_NOTIFICATIONS';\r\nexport const MARK_UNNEW             =   'MARK_UNNEW';\r\nexport const MARK_READ              =   'MARK_READ';\r\nexport const CONFIRM_NOTIFICATION   =   'CONFIRM_NOTIFICATION';\r\nexport const INSERT_NOTIFICATION    =   'INSERT_NOTIFICATION';\r\nexport const DELETE_NOTIFICATION    =   'DELETE_NOTIFICATION';\r\nexport const UPDATE_NOTIFICATION    =   'UPDATE_NOTIFICATION';\r\nexport const UPDATE_FIREBASE_NOTIFICATION_TOKEN = 'UPDATE_FIREBASE_NOTIFICATION_TOKEN';\r\n\r\nexport function fetchNotifications(){\r\n  const req = API_CALL('GET', '/notification');\r\n  return{\r\n    type: FETCH_NOTIFICATIONS,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function markUnNew(){\r\n  const req = API_CALL('POST', '/notification/unNew');\r\n  return{\r\n    type: MARK_UNNEW,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function markRead(notification_id){\r\n  const req = API_CALL('POST', `/notification/${notification_id}/markRead`);\r\n  return{\r\n    type: MARK_READ,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function confirmNotification(notification_id){\r\n  const req = API_CALL('POST', `/notification/${notification_id}/confirm`);\r\n  return{\r\n    type: CONFIRM_NOTIFICATION,\r\n    payload: req\r\n  };\r\n}\r\n\r\nexport function insertNotification(notification){\r\n  return {\r\n    type: INSERT_NOTIFICATION,\r\n    payload: notification\r\n  }\r\n}\r\n\r\nexport function deleteNotification(notification_id){\r\n  const req = API_CALL('DELETE', `/notification/${notification_id}`);\r\n  return {\r\n    type: DELETE_NOTIFICATION,\r\n    payload: req\r\n  }\r\n}\r\n\r\nexport function updateNotification(notification){\r\n  return {\r\n    type: UPDATE_NOTIFICATION,\r\n    payload: notification\r\n  }\r\n}\r\n\r\nexport function updateFirebaseNotificationToken(token){\r\n  const req = API_CALL('POST', `/notification/updateFirebaseNotificationToken`, {token});\r\n  return {\r\n    type: UPDATE_FIREBASE_NOTIFICATION_TOKEN,\r\n    payload: req\r\n  }\r\n}\r\n","import {FETCH_NOTIFICATIONS, MARK_UNNEW, MARK_READ, CONFIRM_NOTIFICATION, INSERT_NOTIFICATION, DELETE_NOTIFICATION, UPDATE_NOTIFICATION} from '../actions/notification';\r\nimport _ from 'lodash';\r\n\r\nexport default function(state=[], action){\r\n  let mapNotis, updatedNotification, noti_id;\r\n  switch(action.type){\r\n    case FETCH_NOTIFICATIONS:\r\n      if(action.error){\r\n        console.log(\"fetch lists failed\");\r\n        return state;\r\n      }\r\n      //console.log('FETCH');\r\n      mapNotis = _.keyBy(action.payload, 'notification_id'); //convert array to mapped object\r\n      return mapNotis;\r\n\r\n    case INSERT_NOTIFICATION:\r\n      //console.log('INSERT');\r\n      let newNotification = action.payload;\r\n      return { ...state, [newNotification.notification_id]: newNotification };\r\n\r\n    case DELETE_NOTIFICATION:\r\n      //console.log('DELETE');\r\n      noti_id = action.payload.notification_id;\r\n      const {[noti_id]: value, ...notificationsAfterDelete } = state;\r\n      return notificationsAfterDelete;\r\n\r\n    case UPDATE_NOTIFICATION:\r\n      //console.log('UPDATE');\r\n      updatedNotification = action.payload;\r\n      return { ...state, [updatedNotification.notification_id]: updatedNotification };\r\n\r\n    case MARK_UNNEW:\r\n      //console.log('MARK_UNNEW');\r\n      mapNotis = _.keyBy(action.payload, 'notification_id'); //convert array to mapped object\r\n      return mapNotis;\r\n\r\n    case MARK_READ:\r\n      //console.log('MARK_READ');\r\n      noti_id = action.payload.notification_id;\r\n      return { ...state, [noti_id]: {...state[noti_id], 'isRead': 1}};\r\n\r\n    case CONFIRM_NOTIFICATION:\r\n      console.log('CONFIRM_NOTIFICATION');\r\n      updatedNotification = action.payload;\r\n      return { ...state, [updatedNotification.notification_id]: updatedNotification };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const TOGGLE_MENU      =   'TOGGLE_MENU';\r\n\r\nexport function toggleMenu(){\r\n  return{\r\n    type: TOGGLE_MENU,\r\n    payload: {}\r\n  };\r\n}\r\n","import {TOGGLE_MENU} from '../actions/UI';\r\nimport {LOGOUT} from '../actions/user';\r\n\r\nexport default function(state=false, action){\r\n  switch(action.type){\r\n    case TOGGLE_MENU:\r\n      return !(state);\r\n    case LOGOUT:\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const SUBSCRIBE_SOCKET       =     'SUBSCRIBE_SOCKET'\r\n\r\nexport function subscribeSocket(socket, user){\r\n  console.log(`socket: ${socket.id} connected`);\r\n  socket.emit('subscribe', user);\r\n  return{\r\n    type: SUBSCRIBE_SOCKET,\r\n    payload: socket\r\n  };\r\n}\r\n","import {SUBSCRIBE_SOCKET} from '../actions/socket';\r\nimport {LOGOUT} from '../actions/user/index';\r\n\r\nexport default function(state=null, action){\r\n  switch(action.type){\r\n    case SUBSCRIBE_SOCKET:      \r\n      return action.payload;\r\n    case LOGOUT:\r\n      if(state)\r\n        state.disconnect(); //disconnect socket\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const SET_FIREBASE     =   'SET_FIREBASE';\r\n\r\nexport function setFirebase(firebase){\r\n  return{\r\n    type: SET_FIREBASE,\r\n    payload: firebase\r\n  };\r\n}\r\n","import {SET_FIREBASE} from '../actions/firebase';\r\n\r\nexport default function(state=null, action){\r\n  switch(action.type){\r\n    case SET_FIREBASE:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport userReducer            from './user_reducer';\r\nimport listsReducer           from './lists_reducer';\r\nimport notificationsReducer   from './notifications_reducer';\r\nimport isMenuReducer          from './isMenu_reducer';\r\nimport socketReducer          from './socket_reducer';\r\nimport firebaseReducer        from './firebase_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user:           userReducer,\r\n    lists:          listsReducer,\r\n    notifications:  notificationsReducer,\r\n    isMenu:         isMenuReducer,\r\n    socket:         socketReducer,\r\n    firebase:       firebaseReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import {Plugins} from '@capacitor/core';\nconst {Device} = Plugins;\n\nconst Storage = {\n  setItem: async (key, value) => {\n    let {platform} = await Device.getInfo();\n    let storage = (platform==='web') ? window.localStorage : Plugins.Storage;\n    switch(platform){\n      case 'web':\n        await storage.setItem(key, value);\n        break;\n\n      case 'android':\n      case 'ios':\n        await Storage.set({key, value});\n        break;\n\n      default:\n    }\n  },\n  getItem: async (key) => {\n    let {platform} = await Device.getInfo();\n    let storage = (platform==='web') ? window.localStorage : Plugins.Storage;\n\n    switch(platform){\n      case 'web':\n        return await storage.getItem(key);\n\n      case 'android':\n      case 'ios':\n        return await storage.getItem({key});\n\n      default:\n    }\n  }\n}\n\nexport default Storage;\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {firebaseLogin, verifyAuth} from '../../actions/user/index.js';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Storage    from '../../plugins/Storage';\r\n\r\nclass Login extends Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.googleLogin      =   this.googleLogin.bind(this);\r\n    this.facebookLogin    =   this.facebookLogin.bind(this);\r\n    this.login            =   this.login.bind(this);\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(!prevProps.user && this.props.user)\r\n      this.login();\r\n  }\r\n\r\n  async googleLogin(){\r\n    let {firebase} = this.props;\r\n    const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n    firebase.auth().signInWithPopup(googleProvider).then((user) => {\r\n      firebase.auth().currentUser.getIdToken(true).then((idToken) => {\r\n        this.props.firebaseLogin({idToken}); //email: user.additionalUserInfo.profile.email\r\n      })\r\n    }).catch((e) => console.log(e.message));\r\n  }\r\n  async facebookLogin(){\r\n    let {firebase} = this.props;\r\n    const facebookProvider = new firebase.auth.FacebookAuthProvider();\r\n    firebase.auth().signInWithPopup(facebookProvider).then((user) => {\r\n      firebase.auth().currentUser.getIdToken(true).then((idToken) => {\r\n        this.props.firebaseLogin({idToken}); //email: user.additionalUserInfo.profile.email\r\n      })\r\n    }).catch((e) => {\r\n      console.log(e.message);\r\n      if(e.code==='auth/account-exists-with-different-credential')\r\n        alert('     . \\n   ');\r\n    });\r\n  }\r\n  async login(){\r\n    let {user} = this.props;\r\n\r\n    await Storage.setItem('authToken', user.authToken);\r\n    await Storage.setItem('mail', user.mail);    \r\n    this.props.history.push('/lists');\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"Login\">\r\n        <div className='top'>\r\n          <div className='logo'>\r\n            <div className='cover'/>\r\n          </div>\r\n          <div className='wave'/>\r\n        </div>\r\n        <main>\r\n          <div className='welcome'>\r\n            <div className='primary'>Welcome</div>\r\n            <div className='secondary'>Sign in to discover the best of Gulo</div>\r\n          </div>\r\n          <div className='login-options'>\r\n            <div className='google circle' onClick={this.googleLogin}></div>\r\n            <div className='facebook circle' onClick={this.facebookLogin}></div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps({user, firebase}){\r\n  return {user, firebase};\r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({firebaseLogin, verifyAuth}, dispatch);\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(Login));\r\n","import Login from './Login';\r\nexport default Login;\r\n","import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faBars, faSearch, faEllipsisV, faPlus, faMinus, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHome, faDesktop, faHotel, faArchive, faArrowLeft, faTrash, faShareAlt, faShoppingCart} from '@fortawesome/free-solid-svg-icons';\r\nimport { faClipboardList, faComment, faPowerOff, faBarcode, faTimes, faBroom, faHandshake, faUserTimes} from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nimport { faFile, faComment as farComment, faBell} from '@fortawesome/free-regular-svg-icons';\r\nimport { faWhatsapp} from '@fortawesome/free-brands-svg-icons';\r\n\r\nlibrary.add(\r\n  faBars, faSearch, faHome, faEllipsisV, faPlus, faMinus, faUndo,\r\n  faDesktop, faHotel, faArchive, faFile, faArrowLeft, faTrash,\r\n  faClipboardList, faComment, farComment, faPowerOff, faBarcode, faBell, faTimes,\r\n  faShareAlt, faWhatsapp, faBroom, faHandshake, faUserTimes, faShoppingCart\r\n);\r\n\r\nexport default library;\r\n","import {Component} from 'react';\r\nimport io                                                       from 'socket.io-client';\r\nimport {connect}                                                from 'react-redux';\r\nimport {insertList, updateList, deleteList}                     from '../../../actions/list';\r\nimport {updateListProduct, deleteListProduct}                   from '../../../actions/list/product';\r\nimport {updateListManualProduct, deleteListManualProduct}       from '../../../actions/list/manual_product';\r\nimport {subscribeSocket}                                        from '../../../actions/socket';\r\nimport {insertNotification, deleteNotification}                 from '../../../actions/notification';\r\nimport {updateFirebaseNotificationToken}                        from '../../../actions/notification';\r\nimport {URI}                                                    from '../../../consts'\r\nimport { Plugins }                                              from '@capacitor/core';\r\n\r\nclass SocketListener extends Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.pushNotifications =  Plugins.PushNotifications;\r\n    this.device            =  Plugins.Device;\r\n    this.listen = this.listen.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.listen();\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(!prevProps.user && this.props.user)\r\n      this.listen();\r\n  }\r\n  async listen(){\r\n    if(!this.props.user) return false;\r\n    let {subscribeSocket} = this.props;\r\n    const socket = io(URI);\r\n\r\n    socket.on('connect', () => {\r\n      subscribeSocket(socket, this.props.user);\r\n\r\n      socket.on('newList', (newList) => this.props.insertList(newList));\r\n      socket.on('listUpdated', (updatedList) => this.props.updateList(updatedList));\r\n      socket.on('listDeleted', (list_id) => this.props.deleteList(list_id));\r\n      socket.on('updateListProduct', (listProduct) => this.props.updateListProduct(listProduct));\r\n      socket.on('deleteListProduct', (cb) => this.props.deleteListProduct(cb.list_id, cb.product_id));\r\n\r\n      socket.on('updateListManualProduct', (listProduct) => this.props.updateListManualProduct(listProduct));\r\n      socket.on('deleteListManualProduct', (cb) => this.props.deleteListManualProduct(cb.list_id, cb.product_id));\r\n\r\n      socket.on('newNotification',    (newNotification) => this.props.insertNotification(newNotification));\r\n      socket.on('updateNotification', (notification)    => this.props.insertNotification(notification)); //in reducer: update&insert functionallity is the same.\r\n      socket.on('deleteNotification', (notification_id) => this.props.deleteNotification(notification_id));\r\n    });\r\n\r\n    let deviceInfo = await this.device.getInfo();\r\n    if(deviceInfo.platform==='android' || deviceInfo.platform==='ios'){\r\n      this.pushNotifications.register();\r\n      this.pushNotifications.addListener('registration', (token) => {\r\n        this.props.updateFirebaseNotificationToken(token.value);\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render(){return null}\r\n}\r\n\r\nconst mapStateToProps = ({user, socket}) => {return {user, socket} };\r\n\r\nexport default connect(mapStateToProps, {subscribeSocket, insertList, updateListProduct, deleteListProduct, updateList, deleteList, insertNotification, deleteNotification, updateListManualProduct, deleteListManualProduct, updateFirebaseNotificationToken})(SocketListener);\r\n","import SocketListener from './SocketListener';\r\nexport default SocketListener;\r\n","import {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {setUser}  from '../../actions/user';\r\nimport {API_CALL} from '../../consts';\r\nimport Storage    from '../../plugins/Storage';\r\n\r\nclass VerifyAuth extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.verifyAuth = this.verifyAuth.bind(this);\r\n\r\n  }\r\n  componentDidMount(){\r\n    this.verifyAuth();\r\n  }\r\n  async verifyAuth(){\r\n    let {user} = this.props;\r\n    if(user) return true;\r\n    const authToken =   await Storage.getItem('authToken');\r\n    const mail      =   await Storage.getItem('mail');\r\n        \r\n    if(!authToken || !mail)\r\n      this.props.history.push(`/login`);\r\n\r\n    API_CALL('POST', '/user/login/byAuthToken', {authToken, mail}).then((user) => {\r\n      this.props.setUser(user);\r\n    }).catch((e) => {\r\n      this.props.history.push(`/login`);\r\n    });\r\n  }\r\n  render(){\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({user, firebase}){\r\n  return {user};\r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({setUser}, dispatch);\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(VerifyAuth));\r\n","import VerifyAuth from './VerifyAuth';\r\nexport default VerifyAuth;\r\n","import Icon from './Icon';\r\nexport default Icon;\r\n","import React, {Component} from 'react';\r\nimport './style.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass Icon extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {hover: false};\r\n\r\n    this.toggleHover = this.toggleHover.bind(this);\r\n  }\r\n  toggleHover(){\r\n    this.setState({hover: !this.state.hover});\r\n  }\r\n  render(){\r\n    let {className, icon, title, size, style, hoverStyle, onClick, faType} = this.props;\r\n    let color = !this.state.hover ? this.props.color : this.props.hoverColor;\r\n    let theStyle = !this.state.hover ? style: hoverStyle;\r\n    return(\r\n      <FontAwesomeIcon className={`Icon ${className} ${icon}`} onMouseEnter={this.toggleHover} onMouseLeave={this.toggleHover}\r\n        icon={[faType || 'fas',icon]} color={color} size={size} title={title} onClick={onClick} style={theStyle} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Icon;\r\n","import React,{Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport Icon from '../Icon';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {toggleMenu} from '../../../actions/UI';\r\n\r\n\r\nclass MenuToggler extends Component{\r\n  toggleStatus(){\r\n    this.props.toggleMenu();\r\n  }\r\n  render(){\r\n    let {notifications} = this.props;\r\n    //const newCounter    = _.filter(notifications, (noti) => noti.isNew===1).length;\r\n    const unReadCounter = _.filter(notifications, (noti) => noti.isRead===0).length;\r\n\r\n    return(\r\n      <div className='MenuToggler'>\r\n        {unReadCounter>0 &&<div className='badger'>\r\n          {unReadCounter}\r\n        </div>}\r\n        <Icon icon='bars' size='2x' onClick={() => this.toggleStatus()} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({notifications}) => {return {notifications}};\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({toggleMenu}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuToggler);\r\n","import MenuToggler from './MenuToggler';\r\nexport default MenuToggler;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {withRouter}         from 'react-router-dom';\r\nimport {connect}            from 'react-redux';\r\nimport {logout}             from '../../../actions/user';\r\nimport {toggleMenu}         from '../../../actions/UI';\r\nimport MenuToggler          from '../../Misc/MenuToggler';\r\nimport Icon                 from '../../Misc/Icon';\r\n\r\nclass SideMenu extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.link     =   this.link.bind(this);\r\n    this.logout   =   this.logout.bind(this);\r\n  }\r\n  link(to){\r\n    this.props.history.push(to);\r\n    this.props.toggleMenu();\r\n  }\r\n  logout(){\r\n    // this.props.firebase.auth().signOut().then(() => {\r\n    //   console.log(`signed out from firebase!`);\r\n    //   this.props.logout();\r\n    // })\r\n  }\r\n  render(){\r\n    let {isMenu, user, notifications} = this.props;\r\n    //const newCounter    = _.filter(notifications, (noti) => noti.isNew===1).length;\r\n    let unReadCounter = _.filter(notifications, (noti) => noti.isRead===0).length;\r\n\r\n    //if(!isMenu) return null;\r\n    return(\r\n      <div className={`SideMenu ${!isMenu && 'hidden'}`}>\r\n        <div className='overlay' onClick={() => this.props.toggleMenu()}></div>\r\n        <main>\r\n          <div className='toggler'><MenuToggler /></div>\r\n          <div className='profile'>\r\n            <div className='pic'>\r\n              <img src={user.pic} alt='' />\r\n            </div>\r\n            <div className='username'>\r\n              {user.firstname} {user.lastname}\r\n            </div>\r\n            <div className='hr' />\r\n          </div>\r\n          <menu className={`${!isMenu && 'hidden'}`}>\r\n\r\n            <div className='row'  onClick={() => this.link('/lists')}>\r\n              <div className='icon' style={{marginRight:'+3px'}}><Icon icon='clipboard-list' /></div>\r\n              <div className='title'> </div>\r\n            </div>\r\n            <div className='row' onClick={() => this.link('/notifications')}>\r\n              <div className='icon notifications'>\r\n                  {/*<span className='counter'>{unReadCounter}</span>*/}\r\n                  {unReadCounter>0 &&<div className='badger'>\r\n                    {unReadCounter}\r\n                  </div>}\r\n                  <Icon faType='far' icon='bell' />\r\n              </div>\r\n              <div className='title'></div>\r\n            </div>\r\n            <div className='row' onClick={() => this.props.logout(this.props.firebase)}>\r\n              <div className='icon'><Icon icon='power-off' /></div>\r\n              <div className='title'></div>\r\n            </div>\r\n\r\n          </menu>\r\n          <footer>\r\n            <div>Gulo</div>\r\n          </footer>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user, isMenu, notifications, firebase}) => {return {user, isMenu, notifications, firebase} };\r\n\r\nexport default withRouter(connect(mapStateToProps, {logout, toggleMenu})(SideMenu));\r\n","import SideMenu from './SideMenu';\r\nexport default SideMenu;\r\n","import EmptyList from './EmptyList';\r\nexport default EmptyList;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nconst EmptyList = () => {\r\n  return(\r\n    <div className='EmptyList'>\r\n      <div className=\"icon\"><Icon icon=\"file\" faType=\"far\"/></div>\r\n      <div className='primary'>   </div>\r\n      <div className='secondary'>  \"+\"  </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmptyList;\r\n","import List from './List';\r\nexport default List;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nclass List extends Component{\r\n  render(){\r\n    let {list} = this.props;\r\n    return(\r\n      <div className='List'>\r\n        <div className='icon' style={{background: list.list_type_color}} onClick={this.props.showList}><Icon icon={list.list_type_icon} size='2x'/></div>\r\n        <div className='title' onClick={this.props.showList}>\r\n          <div className='name'>{list.list_name}</div>\r\n          {/*<div className='total'><span className='total'>({list.total_products} )</span></div>*/}\r\n          <div className='mail'>{list.creator.fullname}</div>\r\n        </div>\r\n        <div className='options' onClick={this.props.editList}><Icon icon='ellipsis-v' size='2x' /></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport Modal from 'react-modal';\r\nModal.defaultStyles.overlay.backgroundColor = 'rgba(0,0,0,0.4)';\r\n\r\nclass MyModal extends Component{\r\n  render(){\r\n    return(\r\n      <Modal\r\n        isOpen={this.props.isOpen}\r\n        ariaHideApp={false}\r\n        className={`Modal ${this.props.className}`}\r\n        shouldCloseOnOverlayClick={true}\r\n        onRequestClose={this.props.close}\r\n      >\r\n          {this.props.children}\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyModal;\r\n","import MyModal from './MyModal';\r\nexport default MyModal;\r\n","import RadiosAPI from './RadiosAPI';\r\nexport default RadiosAPI;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {API_CALL} from '../../../consts';\r\n\r\nclass RadiosAPI extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {options: []};\r\n\r\n    this.fetchAPI = this.fetchAPI.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchAPI();\r\n  }\r\n  fetchAPI(){\r\n    let {api} = this.props;\r\n    if(!api) return false;\r\n    API_CALL(api.verb, api.url).then((options) => {\r\n      this.setState({options});\r\n    }).catch((e) => {\r\n      setTimeout(this.fetchAPI, 1000);\r\n    });\r\n  }\r\n  renderRadios(){\r\n    let {name, value} = this.props;\r\n    let {options} = this.state;\r\n    let radios = _.map(options, (option) => {\r\n      let bg = {backgroundColor: option.id===value ? option.color : ''};\r\n      let onClick = this.props.readOnly ? null : () => this.props.onClick({target: {name, value: option.id}});\r\n      return <div key={option.id} style={bg} onClick={onClick}>{option.name}</div>\r\n    })\r\n    return radios;\r\n  }\r\n  render(){\r\n    return (\r\n      <div className='RadioTypes'>\r\n        {this.renderRadios()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RadiosAPI;\r\n","import ListShares from './ListShares';\r\nexport default ListShares;\r\n","import React, {Component} from 'react'\r\nimport './style.scss';\r\nimport Icon from '../../../../Misc/Icon';\r\nimport {API_CALL} from '../../../../../consts';\r\nimport _ from 'lodash';\r\n\r\nclass ListShares extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {status: false, users: [], value: '', isValid: true, isSelected: false}\r\n\r\n    this.handleChange     =       this.handleChange.bind(this);\r\n    this.toggleStatus     =       this.toggleStatus.bind(this);\r\n    this.fetchUsers       =       this.fetchUsers.bind(this);\r\n    this.validateInsert   =       this.validateInsert.bind(this);\r\n    this.renderOptions    =       this.renderOptions.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchUsers()\r\n  }\r\n  componentDidUpdate(prevProps, prevState){\r\n    if(prevProps.shares!==this.props.shares)\r\n      this.setState({status: false, value: ''});\r\n  }\r\n  fetchUsers(){\r\n    API_CALL('GET', '/user/getAllUsersButMe').then((users) => {\r\n      console.log(users);\r\n      this.setState({users});\r\n    }).catch((e) => {\r\n      this.setState({redirectToLogin: true})\r\n    });\r\n  }\r\n  toggleStatus(){\r\n    let status = !(this.state.status);\r\n    this.setState({status});\r\n  }\r\n  renderDataListOptions(){\r\n    let {users} = this.state;\r\n    let options = _.map(users, (user) => {\r\n      return <option key={user.mail} value={user.mail}>{user.mail}</option>\r\n    })\r\n    return options;\r\n  }\r\n  renderSharesList(){\r\n    let {creator} = this.props;\r\n    let shares = _.map(this.props.shares, (share) => {\r\n      return (\r\n        <div className='share' key={share.mail} onClick={() => this.validateRemove(share)}>\r\n          <div className='pic'><img src={share.pic} alt=''/></div>\r\n          <div className='details'>\r\n            <div className='name'>{share.fullname}</div>\r\n            <div className='mail'>{share.mail}</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n    if(creator){ //add manager to list\r\n      let Manager = (<div className='share manager' key={creator.mail}>\r\n                      <div className='pic'><img src={creator.pic} alt=''/></div>\r\n                      <div className='details'>\r\n                        <div className='name'>: {creator.fullname}</div>\r\n                        <div className='mail'>{creator.mail}</div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n       shares.unshift(Manager);\r\n    }\r\n    return <div className='shares-list'>{shares}</div>;\r\n  }\r\n  handleChange(e){\r\n    let {value} = e.target;\r\n    this.setState({value, isValid: true, isSelected: false});\r\n  }\r\n  validateInsert(e){\r\n    e.preventDefault();\r\n    let {value, users} = this.state;\r\n    let match = _.filter(users, (user) => user.mail === value);\r\n    let isExists = _.find(this.props.shares, {mail: value});\r\n    if(match.length===0 || isExists){\r\n      this.setState({isValid: false});\r\n      return false;\r\n    }\r\n    this.props.onInsert(match[0]);\r\n  }\r\n  validateRemove(share){\r\n    let {isCreator} = this.props;\r\n    if(!isCreator) return false;\r\n\r\n    if(!window.confirm(`    \\n${share.fullname}?`));\r\n    this.props.onRemove(share);\r\n  }\r\n  renderOptions(){\r\n    let {value} = this.state;\r\n    if(value.length < 2 || this.state.isSelected)\r\n      return false;\r\n\r\n    let Options = _.map(this.state.users, (opt) => {\r\n      if(opt.fullname.toLowerCase().includes(value.toLowerCase()) || opt.mail.toLowerCase().includes(value.toLowerCase()))\r\n        return  <div  className='option' key={opt.user_id}\r\n                      onClick={() => this.optionSelected(opt)}>\r\n                  <div>{opt.fullname}</div>\r\n                  <div>{opt.mail}</div>\r\n                </div>\r\n    })\r\n    return Options;\r\n  }\r\n  optionSelected(opt){\r\n    this.setState({value: opt.mail, isSelected: true});\r\n  }\r\n  render(){\r\n    let {status, value, isValid} = this.state;\r\n    let {isCreator} = this.props;\r\n\r\n    return(\r\n      <div className='ListShares'>\r\n        {isCreator &&\r\n          <div className='toggle-row'>\r\n            <div onClick={this.toggleStatus}>\r\n              <Icon icon={status ? 'minus' : 'plus'} /> &nbsp;\r\n              {status ? '  ' : '  '}\r\n            </div>\r\n            {status && <div><button className='btn-plus' onClick={this.validateInsert}><Icon icon='plus' /></button></div>}\r\n          </div>\r\n        }\r\n        {status &&\r\n          <div>\r\n            <input type='text' value={value} className={`ltr ${isValid ? '' : 'invalid'}`}\r\n                  onChange={this.handleChange} placeholder='Search by Mail or Name...' />\r\n            <div className='options'>\r\n              {this.renderOptions()}\r\n            </div>\r\n          </div>\r\n        }\r\n\r\n        {!status && this.renderSharesList()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ListShares\r\n/*\r\n<input  className={`ltr ${isValid ? '' : 'invalid'}`}  type='text'\r\n        value={value} onChange={this.handleChange} placeholder=\"Search partner by Fullname or Email...\"\r\n/>\r\n<div className='options'>\r\n  {this.renderOptions()}\r\n</div>\r\n*/\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {connect}            from 'react-redux'\r\nimport {bindActionCreators} from 'redux';\r\nimport {insertList}         from '../../../../actions/list';\r\n\r\nimport {API_CALL}   from '../../../../consts';\r\nimport RadiosAPI    from '../../../Misc/RadiosAPI';\r\nimport ListShares   from './ListShares';\r\nimport Icon         from  '../../../Misc/Icon';\r\n\r\nclass ModalList extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    let {list, user} = this.props;\r\n    let creator = list ? list.creator : user;\r\n    let isCreator = (creator.mail === user.mail) ? true: false;\r\n    if(list) //EDIT\r\n      this.state = {\r\n                    creator, isCreator,\r\n                    list_id: list.list_id, list_name: list.list_name, list_type: list.list_type_id,\r\n                    device_id: list.device.id || '', device_password: list.device.password || '',\r\n                    shares: list.shares, shares_deleted: [], shares_inserted: []\r\n                  };\r\n    else //NEW\r\n      this.state = {creator, isCreator,\r\n                    list_name: '', list_type: 1,\r\n                    device_id: '', device_password: '',\r\n                    shares: [], shares_deleted: [], shares_inserted: []\r\n                  };\r\n\r\n    //console.log(list);\r\n    this.handleChange     =     this.handleChange.bind(this);\r\n    this.submit           =     this.submit.bind(this);\r\n    this.insertShare      =     this.insertShare.bind(this);\r\n    this.removeShare      =     this.removeShare.bind(this);\r\n    this.delete           =     this.delete.bind(this);\r\n  }\r\n  handleChange(e){\r\n    let {name, value} = e.target;\r\n    let stateObj = {}; stateObj[name] = value;\r\n    this.setState(stateObj);\r\n  }\r\n  insertShare(share){\r\n    let shares_inserted       =     [share, ...this.state.shares_inserted];\r\n    let shares                =     [share, ...this.state.shares];\r\n    let {shares_deleted}      =     this.state;\r\n    if(_.find(shares_deleted, {user_id: share.user_id})){ //user was deleted and inserted. remove from both!\r\n      shares_deleted  = _.filter(shares_deleted,  sd => sd.user_id!==share.user_id);\r\n      shares_inserted = _.filter(shares_inserted, si => si.user_id!==share.user_id);\r\n    }\r\n    this.setState({shares, shares_inserted, shares_deleted});\r\n  }\r\n  removeShare(share){\r\n    let shares_deleted         =     [share, ...this.state.shares_deleted]\r\n    let {shares_inserted}      =     this.state;\r\n    let shares                 =     _.filter(this.state.shares, s => s.user_id!==share.user_id)\r\n    if(_.find(shares_inserted, {user_id: share.user_id})){ //user was insrted and deleted. remove from both!\r\n      shares_deleted  = _.filter(shares_deleted,  sd => sd.user_id!==share.user_id);\r\n      shares_inserted = _.filter(shares_inserted, si => si.user_id!==share.user_id);\r\n    }\r\n    this.setState({shares, shares_deleted, shares_inserted});\r\n  }\r\n  submit(e){\r\n    e.preventDefault();\r\n    let {list} = this.props; //check wether edit or new\r\n\r\n    //if(!window.confirm('   ?')) return false;\r\n    let api = {\r\n      verb: !list ? 'POST'  :  'PUT',\r\n      url:  !list ? '/list' :  `/list/${list.list_id}`\r\n    }\r\n    API_CALL(api.verb, api.url, this.state).then((cb) => {\r\n      this.props.close();\r\n    }).catch((e) => {\r\n      let error = e.response && e.response.data;\r\n      if(error==='device details invalid')\r\n        alert(\"   \");\r\n      else if(error==='device already connected')\r\n        alert(\"    \");\r\n    });\r\n  }\r\n  delete(){\r\n    let {isCreator, list_id}   = this.state;\r\n    if(!window.confirm(isCreator ? `     ?` : `     ?`))\r\n      return false;\r\n    API_CALL('DELETE', `/list/${list_id}`, this.state).then((cb) => {\r\n      this.props.close();\r\n    }).catch((e) => {\r\n      console.log(e.message);\r\n    });\r\n  }\r\n  render(){\r\n    let state = this.state;\r\n    let {list} = this.props;\r\n    let {creator, isCreator} = this.state;\r\n\r\n    return(\r\n      <div className='ModalList'>\r\n        <header className='modal-header'>\r\n          <div className='title'>{list ? this.props.list.list_name : ' '}</div>\r\n          {list && <div className='left'><Icon icon=\"trash\" color='#f95d49;' onClick={this.delete}/> </div>}\r\n        </header>\r\n        <form onSubmit={this.submit} onReset={() => this.props.close()}>\r\n          <header> </header>\r\n          <div className='field'>\r\n            <div> </div>\r\n            <div><input type='text' name='list_name' value={state.list_name} onChange={this.handleChange} placeholder=\"   \" required /></div>\r\n          </div>\r\n          <div className='field radio'>\r\n            <RadiosAPI name='list_type' value={state.list_type} onClick={this.handleChange} api={{verb:'GET', url: '/list/types'}} readOnly={!isCreator} />\r\n          </div>\r\n\r\n          <header> </header>\r\n          <div className='field'>\r\n            <ListShares shares={state.shares} creator={creator} isCreator={isCreator}\r\n                        onInsert={this.insertShare}  onRemove={this.removeShare}\r\n            />\r\n          </div>\r\n\r\n          <header> </header>\r\n          {isCreator &&\r\n            <div>\r\n              <div className='field'>\r\n                <div> </div>\r\n                <div><input type='number' name='device_id' value={state.device_id} onChange={this.handleChange} placeholder=\"    \" readOnly={!isCreator}/></div>\r\n              </div>\r\n              <div className='field'>\r\n                <div></div>\r\n                <div><input type='text' name='device_password' value={state.device_password} onChange={this.handleChange} placeholder=\"      \" readOnly={!isCreator}/></div>\r\n              </div>\r\n            </div>\r\n          }\r\n          <footer>\r\n            <div className='cancel'><button   type=\"reset\"></button></div>\r\n            <div className='confirm'><button  type=\"submit\"></button></div>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user}) => {return {user} };\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({insertList}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ModalList);\r\n","import ModalList from './ModalList';\r\nexport default ModalList;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Icon from '../../Misc/Icon';\r\nimport EmptyList from './EmptyList';\r\nimport List from './List';\r\nimport MenuToggler  from '../../Misc/MenuToggler';\r\nimport Modal from   '../../Misc/MyModal';\r\nimport ModalList from './ModalList';\r\n\r\nclass Lists extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isModal: false, editList: null};\r\n    this.toggleIsModal      =     this.toggleIsModal.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    window.addEventListener(\"beforeunload\", (ev) => {\r\n      ev.preventDefault();\r\n      //this.props.history.goForward();\r\n    });\r\n  }\r\n  toggleIsModal(){\r\n    let isModal = !(this.state.isModal);\r\n    this.setState({isModal}, () => {\r\n      if(!isModal)\r\n        this.setState({editList: null});\r\n    });\r\n  }\r\n  renderLists(){\r\n    let {lists} = this.props;\r\n    return _.map(lists, (list) => {\r\n      return <List key={list.list_id} list={list}\r\n                showList={() => this.props.history.push(`/list/${list.list_id}`)}\r\n                editList={() => this.setState({editList: list, isModal: true})}\r\n            />\r\n    })\r\n  }\r\n  renderEmpty(){\r\n    return <EmptyList/>\r\n  }\r\n\r\n  render(){\r\n    let {lists} = this.props;\r\n    return(\r\n      <div className='Page Lists'>\r\n        <Modal isOpen={this.state.isModal} ><ModalList list={this.state.editList} close={this.toggleIsModal} /></Modal>\r\n\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'> </div>\r\n          <div className='left'><Icon icon='search' size='2x' /></div>\r\n        </header>\r\n        <main className='lists'>\r\n          {_.size(lists)>0   && this.renderLists()}\r\n          {_.size(lists)===0 && this.renderEmpty()}\r\n        </main>\r\n        <footer>\r\n          <button onClick={this.toggleIsModal}><Icon icon=\"plus\" />  </button>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({lists, socket}) => {return {lists, socket} };\r\n\r\nexport default withRouter(connect(mapStateToProps)(Lists));\r\n","import Lists from './Lists';\r\nexport default Lists;\r\n","import ModalProduct from './ModalProduct';\r\nexport default ModalProduct;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport Icon         from  '../../../Misc/Icon';\r\nimport {API_CALL}   from '../../../../consts';\r\n\r\nclass ModalProduct extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    let {product} = this.props;\r\n    if(product)\r\n      this.state = {product_name: product.product_name, quantity: product.quantity, memo: product.memo ? product.memo : ''};\r\n    else\r\n      this.state = {product_name: '', quantity: 1, memo: ''};\r\n\r\n    this.increaseQuantity = this.increaseQuantity.bind(this);\r\n    this.decreaseQuantity = this.decreaseQuantity.bind(this);\r\n    this.handleMemo       = this.handleMemo.bind(this);\r\n    this.delete           = this.delete.bind(this);\r\n    this.update           = this.update.bind(this);\r\n    this.new              = this.new.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    if(this.product_name)\r\n      this.product_name.focus();\r\n  }\r\n  increaseQuantity(){\r\n    let {quantity} = this.state;\r\n    this.setState({quantity: quantity+1});\r\n  }\r\n  decreaseQuantity(){\r\n    let {quantity} = this.state;\r\n    if(quantity===1) return false;\r\n    this.setState({quantity: quantity-1});\r\n  }\r\n  handleMemo(e){\r\n    let {value} = e.target;\r\n    this.setState({memo: value});\r\n  }\r\n  update(e){\r\n    e.preventDefault();\r\n    let product = {...this.props.product, ...this.state};\r\n    let p_route = product.isManual ? 'manual_product' : 'product';\r\n    API_CALL('PUT', `/list/${product.list_id}/${p_route}/${product.id}`, {product}).then((cb) => {\r\n      this.props.close();\r\n    });\r\n  }\r\n  new(e){\r\n    e.preventDefault();\r\n    let product = {...this.state};\r\n    API_CALL('POST', `/list/${this.props.list.list_id}/manual_product`, {product}).then((cb) => {\r\n      this.props.close()\r\n    });\r\n  }\r\n\r\n  delete(){\r\n    if(!window.confirm('   ?'))\r\n      return false;\r\n    \r\n    let {product} = this.props;\r\n    if(!product.id)\r\n      return false;\r\n\r\n    let p_route = product.isManual ? 'manual_product' : 'product';\r\n    API_CALL('DELETE', `/list/${product.list_id}/${p_route}/${product.id}`, {product_id: product.id}).then((cb) => {\r\n      this.props.close();\r\n    });\r\n  }\r\n  render(){\r\n    let {product} = this.props;\r\n\r\n    return(\r\n      <div className='ModalProduct'>\r\n        <header className='modal-header'>\r\n          <div className='title'> </div>\r\n          <div className='left'><Icon icon=\"trash\" color='#f95d49;' onClick={this.delete}/></div>\r\n        </header>\r\n        <form onSubmit={product ? this.update : this.new} onReset={this.props.close}>\r\n          {product && <div className='product_name'>{product.product_name}</div>}\r\n          {!product &&\r\n            <div className='field'>\r\n              <div> </div>\r\n              <div><input type='text' name='product_name' value={this.state.product_name} onChange={(e) => this.setState({product_name: e.target.value})} placeholder=\": \" required ref={(input) => {this.product_name=input}} /></div>\r\n            </div>\r\n          }\r\n          <div className='quantity'>\r\n            <div><Icon icon='plus'  onClick={this.increaseQuantity}/></div>\r\n            <div className='number'>{this.state.quantity}</div>\r\n            <div><Icon icon='minus' onClick={this.decreaseQuantity}/></div>\r\n          </div>\r\n          <div className='memo'>\r\n            <textarea value={this.state.memo} placeholder=\"...\" onChange={this.handleMemo}/>\r\n          </div>\r\n          <footer>\r\n            <div className='cancel'><button   type=\"reset\"></button></div>\r\n            <div className='confirm'><button  type=\"submit\"></button></div>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalProduct;\r\n","import OptionsToggler from './OptionsToggler';\r\nexport default OptionsToggler;\r\n","import React,{Component}  from 'react';\r\nimport './style.scss';\r\nimport Icon               from '../../../Misc/Icon';\r\n\r\nclass OptionsToggler extends Component{\r\n  renderFalse(){\r\n    return(\r\n      <div className='false'>\r\n        <div><button className='expand' onClick={this.props.toggle}><Icon icon=\"plus\" /></button></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTrue(){\r\n    const {isCreator, platform} = this.props;\r\n    return (\r\n      <div className='true'>\r\n        <div className='expand'><button className='expand' onClick={this.props.toggle}><Icon icon=\"times\" /></button></div>\r\n        {isCreator &&\r\n          <div className='option' onClick={() => {this.props.toggle(); this.props.clearList();}}>\r\n            <div className='icon'><Icon icon='broom' /></div>\r\n            <div className='desc'> </div>\r\n          </div>\r\n        }\r\n        <div className='option' onClick={() => {this.props.toggle(); this.props.bestShoppingCart();}}>\r\n          <div className='desc'>   </div>\r\n          <div className='icon'><Icon icon='shopping-cart' /></div>\r\n        </div>\r\n        <div className='option' onClick={() => {this.props.toggle(); this.props.shareWhatsapp();}}>\r\n          <div className='desc'> </div>\r\n          <div className='icon'><Icon icon='whatsapp' faType='fab' /></div>\r\n        </div>\r\n        {(platform==='ios' || platform==='android') &&\r\n          <div className='option' onClick={() => {this.props.toggle(); this.props.scanBarcode();}}>\r\n            <div className='icon'><Icon icon='barcode' /></div>\r\n            <div className='desc'> </div>\r\n          </div>\r\n        }\r\n        <div className='option' onClick={() => {this.props.toggle(); this.props.manualProduct();}}>\r\n          <div className='icon'><Icon icon='plus' /></div>\r\n          <div className='desc'> </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  render(){\r\n    let {isMenu} = this.props;\r\n    return(\r\n      <div className='OptionsToggler'>\r\n        {isMenu ? this.renderTrue() : this.renderFalse()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OptionsToggler;\r\n","import Product from './Product';\r\nexport default Product;\r\n","import React,{Component} from 'react';\r\nimport './style.scss';\r\nimport {API_CALL}       from '../../../../consts';\r\nimport Icon             from '../../../Misc/Icon';\r\n\r\nclass Product extends Component{\r\n  toggleCheck(){\r\n    let {list_id, id, isManual} = this.props.product;\r\n    const p_route = isManual ? 'manual_product' : 'product';\r\n    API_CALL('POST', `/list/${list_id}/${p_route}/${id}/toggleCheck`);\r\n  }\r\n  render(){\r\n    let {product} = this.props;\r\n    const Quantity = product.quantity>1 ? <span className='quantity'>({product.quantity})</span> : null;\r\n    return(\r\n      <div className={`Product ${product.isChecked ? 'checked' : null}`}>\r\n        <div className='product' onClick={() => this.toggleCheck()}>\r\n          <div className='name'>{product.product_name}{Quantity}</div>\r\n          <div className='memo'>{product.memo}</div>\r\n        </div>\r\n        <div className='options' onClick={this.props.onEdit}><Icon icon='ellipsis-v' size='1x' /></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Product;\r\n","import CatGroup from './CatGroup';\r\nexport default CatGroup;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport Product            from '../Product';\r\n\r\nclass CatGroup extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isExpand: true};\r\n\r\n    this.toggleExpand     =     this.toggleExpand.bind(this);\r\n  }\r\n  toggleExpand(){\r\n    let isExpand = !(this.state.isExpand);\r\n    this.setState({isExpand});\r\n  }\r\n  renderProducts(){\r\n    let products =_.map(this.props.cat, (product) => {\r\n      return <Product key={product.id} product={product} onEdit={() => this.props.setProduct(product)} />\r\n    });\r\n    return products;\r\n  }\r\n  render(){\r\n    let {cat} = this.props;\r\n    if(cat.length===0) return null;\r\n    const cat_name = cat[0].category_name;\r\n    const {isExpand} = this.state;\r\n    let unCheckedProducts = _.filter(cat, (product) => product.isChecked===0).length;\r\n    return(\r\n      <div className='CatGroup'>\r\n        <div className='header' onClick={this.toggleExpand}>\r\n          <div>{isExpand ? '-' : '+'}</div>\r\n          <div>{cat_name}</div>\r\n          <div className='counter'>({unCheckedProducts})</div>\r\n        </div>\r\n        <div className='products'>\r\n          {isExpand && this.renderProducts()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CatGroup;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner';\r\nimport {Plugins}        from '@capacitor/core';\r\nimport {API_CALL}       from '../../../consts';\r\nimport {withRouter}     from 'react-router-dom';\r\nimport {connect}        from 'react-redux';\r\nimport Icon             from '../../Misc/Icon';\r\nimport MenuToggler      from '../../Misc/MenuToggler';\r\nimport Modal            from  '../../Misc/MyModal';\r\nimport ModalProduct     from  './ModalProduct';\r\nimport OptionsToggler   from  './OptionsToggler';\r\nimport CatGroup         from  './CatGroup';\r\n\r\nclass ViewList extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {product: null, isManual: false, isMenu: false, platform: ''};\r\n    this.barcodeScanner = BarcodeScanner;\r\n\r\n    this.checkListID        =     this.checkListID.bind(this);\r\n    this.setPlatform        =     this.setPlatform.bind(this);\r\n    this.toggleIsManual     =     this.toggleIsManual.bind(this);\r\n    this.toggleIsMenu       =     this.toggleIsMenu.bind(this);\r\n    this.setProduct         =     this.setProduct.bind(this);\r\n    this.shareWhatsapp      =     this.shareWhatsapp.bind(this);\r\n    this.clearList          =     this.clearList.bind(this);\r\n    this.goBestShoppingCart =     this.goBestShoppingCart.bind(this);\r\n    this.scanBarcode        =     this.scanBarcode.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.setPlatform();\r\n    setTimeout(this.checkListID, 1000);\r\n  }\r\n  async checkListID(){\r\n      let {list} = this.props;\r\n      if(!list)\r\n        this.props.history.push('/');\r\n  }\r\n  async setPlatform(){\r\n    const deviceInfo = await Plugins.Device.getInfo();\r\n    this.setState({platform: deviceInfo.platform});\r\n  }\r\n  toggleIsManual(){\r\n    let isManual = !(this.state.isManual);\r\n    this.setState({isManual});\r\n  }\r\n  toggleIsMenu(){\r\n    let isMenu = !(this.state.isMenu);\r\n    this.setState({isMenu});\r\n  }\r\n  setProduct(product){\r\n    this.setState({product});\r\n  }\r\n  renderCatGroups(){\r\n    let {list}  =   this.props;\r\n    let cats  =   _.groupBy(list.products, 'category_id');\r\n    cats.manual = _.toArray(list.manual_products);\r\n    let Cats = _.map(cats, (cat,i) => {\r\n      return <CatGroup key={i} cat={cat} setProduct={this.setProduct}/>\r\n    })\r\n    return Cats;\r\n  }\r\n  shareWhatsapp(){\r\n    let text = '';\r\n    let {list}  =  this.props;\r\n\r\n    const arr = [..._.toArray(list.products), ..._.toArray(list.manual_products)];\r\n\r\n    text += `* ${list.list_name}   :* \\n\\n`\r\n    _.map(arr, (p) => {\r\n      if(p.isChecked) return false;\r\n      text += `${p.product_name}`;\r\n      if(p.quantity>1)\r\n        text += ` (${p.quantity})`;\r\n      text += '\\n';\r\n    });\r\n    window.open(`https://wa.me/?text=${encodeURI(text)}`);\r\n  }\r\n  clearList(){\r\n    var j = window.confirm(\"    ?\");\r\n    if(j===false) return false;\r\n    let {list}  =  this.props;\r\n    API_CALL('POST', `/list/${list.list_id}/clear`);\r\n  }\r\n  goBestShoppingCart(){\r\n    let {list} = this.props;\r\n    let path = `/list/${list.list_id}/bestShoppingCart`;\r\n    this.props.history.push(path);\r\n  }\r\n  async scanBarcode(){\r\n    if(this.state.platform!=='android' && this.state.platform!=='ios')\r\n      return false;\r\n\r\n    let {list: {list_id}} = this.props;\r\n    this.barcodeScanner.scan().then(barcode => {\r\n      if(barcode.cancelled)\r\n        return false;\r\n      API_CALL('POST', `/device/scanByMobile/${list_id}/${barcode.text}`);\r\n    }).catch(err => console.log(\"Error\", err));\r\n  }\r\n  render(){\r\n    const {list,user} = this.props;\r\n    if(!list) return null;\r\n\r\n    const {product, isManual, isMenu, platform} = this.state;\r\n    const isCreator = list.creator.mail===user.mail ? true : false;\r\n    return(\r\n      <div className='Page ViewList'>\r\n        {isMenu && <div className='overlay'></div>}\r\n        <Modal isOpen={product ? true : false} close={() => this.setProduct(null)}>\r\n          <ModalProduct product={product} close={() => this.setProduct(null)} />\r\n        </Modal>\r\n        <Modal isOpen={isManual} close={() => this.toggleIsManual()}>\r\n          <ModalProduct product={null} list={list} close={() => this.toggleIsManual()} />\r\n        </Modal>\r\n\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'>{list.list_name}</div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n        <main className='list-products'>\r\n          {this.renderCatGroups()}\r\n        </main>\r\n        <footer>\r\n          <OptionsToggler isMenu={isMenu} toggle={this.toggleIsMenu} isCreator={isCreator} platform={platform}\r\n              shareWhatsapp={this.shareWhatsapp} manualProduct={this.toggleIsManual}\r\n              clearList={this.clearList} bestShoppingCart={this.goBestShoppingCart}\r\n              scanBarcode={this.scanBarcode}\r\n          />\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({lists, user}, ownProps) => {return {user, list: lists[ownProps.match.params.list_id]}};\r\nexport default withRouter(connect(mapStateToProps)(ViewList));\r\n","import ViewList from './ViewList';\r\nexport default ViewList;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport moment         from 'moment';\r\nimport {withRouter}   from 'react-router-dom';\r\n\r\nclass Notification extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.viewNotification = this.viewNotification.bind(this);\r\n  }\r\n  viewNotification(){\r\n    let {notification_id} = this.props.noti;\r\n    this.props.history.push(`/notifications/${notification_id}`);\r\n  }\r\n\r\n  render(){\r\n      let {noti} = this.props;\r\n      let isToday = moment(noti.modifiedAt).isSame(moment(), 'date');\r\n      return(\r\n        <div className={`Notification ${!noti.isRead && 'unRead'}`} onClick={this.viewNotification}>\r\n          <div className='title'>\r\n            <div className='primary'>{noti.title.primary}</div>\r\n            <div className='secondary'>{noti.title.secondary}</div>\r\n          </div>\r\n          <div className='at'>\r\n            <div className='time'>{moment(noti.modifiedAt).format('HH:mm')}</div>\r\n            {!isToday && <div className='date'>{moment(noti.modifiedAt).format('DD/MM/YY')}</div>}\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default withRouter(Notification);\r\n","import Notification from './Notification';\r\nexport default Notification;\r\n","import EmptyNotifications from './EmptyNotifications';\r\nexport default EmptyNotifications;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nconst EmptyNotifications = () => {\r\n  return(\r\n    <div className='EmptyNotifications'>\r\n      <div className=\"icon\"><Icon icon=\"file\" faType=\"far\"/></div>\r\n      <div className='primary'>  </div>      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmptyNotifications;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {connect}            from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {markUnNew}    from '../../../actions/notification';\r\n\r\nimport MenuToggler  from '../../Misc/MenuToggler';\r\nimport Icon from '../../Misc/Icon';\r\nimport Notification from './Notification';\r\nimport EmptyNotifications from './EmptyNotifications';\r\n\r\nclass Notifications extends Component{\r\n  componentDidMount(){\r\n    const newCounter    = _.filter(this.props.notifications, (noti) => noti.isNew===1).length;\r\n    if(newCounter>0)\r\n      this.props.markUnNew();\r\n  }\r\n  renderNotifications(){\r\n    let arr = _.values(this.props.notifications);\r\n    if(arr.length===0)\r\n      return <EmptyNotifications />;\r\n\r\n    let Notifications = _.map(arr.reverse(), (noti, i) => {\r\n      return <Notification key={i} noti={noti} />\r\n    })\r\n    return Notifications;\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='Page Notifications'>\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'></div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n        <main className='list-notifications'>\r\n          {this.renderNotifications()}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({notifications}) => {return {notifications}};\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({markUnNew}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\r\n","import Notifications from './Notifications';\r\nexport default Notifications;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {connect}              from 'react-redux';\r\nimport {bindActionCreators}   from 'redux';\r\nimport {confirmNotification}  from '../../../../actions/notification';\r\nimport moment from 'moment';\r\nimport Icon from '../../../Misc/Icon';\r\n\r\nclass SharedList extends Component{\r\n  isConfirmation(){\r\n    let {noti} = this.props;\r\n    if(noti.isConfirm===0)\r\n      return null;\r\n    return (<footer className='confirmation'>\r\n              <button onClick={() => this.props.confirmNotification(noti.notification_id)}></button>\r\n            </footer>\r\n    );\r\n  }\r\n  render(){\r\n    let {noti} = this.props;\r\n    let {status} = noti;\r\n    if(!noti) return null;\r\n    let isToday = moment(noti.createdAt).isSame(moment(), 'date');\r\n    let icon;\r\n    if(status===1) //wait for confirmation\r\n      icon = 'share-alt'\r\n    else if(status===2 || status===3) //user removed from list\r\n      icon = 'user-times';\r\n    else if(status===4 || status===10) //user joined group\r\n      icon = 'handshake';\r\n    return(\r\n      <div className='SharedList'>\r\n        <main>\r\n          <div className='title'>\r\n            <div className='topic'>\r\n                {noti.title.primary}\r\n                <div className='secondary'>\r\n                  {noti.title.secondary}\r\n                </div>\r\n            </div>\r\n            <div className='at'>\r\n              <div className='time'>{moment(noti.createdAt).format('HH:mm')}</div>\r\n              {!isToday && <div className='date'>{moment(noti.createdAt).format('DD/MM/YY')}</div>}\r\n            </div>\r\n          </div>\r\n          <div className='img'>\r\n            <Icon icon={icon}/>\r\n          </div>\r\n          <div className='question'>\r\n            {noti.title.secondary}\r\n          </div>\r\n        </main>\r\n        {this.isConfirmation()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({confirmNotification}, dispatch);\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(SharedList);\r\n","import SharedList from './SharedList';\r\nexport default SharedList;\r\n","import DataListAPI from './DataListAPI';\r\nexport default DataListAPI;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {API_CALL} from '../../../consts';\r\nimport _ from 'lodash';\r\n\r\nclass DataListAPI extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {data: [], isSelected: false};\r\n\r\n    this.handleChange   =   this.handleChange.bind(this);\r\n    this.fetchAPI       =   this.fetchAPI.bind(this);\r\n    this.renderOptions  =   this.renderOptions.bind(this);\r\n    this.optionSelected =   this.optionSelected.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchAPI();\r\n  }\r\n  fetchAPI(){\r\n    let {api} = this.props;\r\n    if(!api) return false;\r\n    API_CALL(api.verb, api.url).then((data) => {\r\n      this.setState({data});\r\n    }).catch((e) => {\r\n      setTimeout(this.fetchAPI, 1000);\r\n    });\r\n  }\r\n  renderOptions(){\r\n    let {value} = this.props;\r\n    if(value.length < 2 || this.state.isSelected)\r\n      return false;\r\n\r\n    let Options = _.map(this.state.data, (opt) => {\r\n      if(opt.name.includes(value))\r\n        return  <div  className={`option ${(/^[a-zA-Z]+$/).test(opt.name) && 'english'}`} key={opt.id}\r\n                      onClick={() => this.optionSelected(opt)}>\r\n                  {opt.name}\r\n                </div>\r\n    })\r\n    return Options;\r\n  }\r\n  optionSelected(opt){\r\n    let e = {};\r\n    e.target = {\r\n      name:   this.props.name,\r\n      value:  opt.name\r\n    }\r\n    this.setState({isSelected: true});\r\n    this.props.onChange(e);\r\n    this.props.onSelect(opt.id); //trigger onSelect only if dataList MATCH option\r\n  }\r\n  handleChange(e){\r\n    this.setState({isSelected: false});\r\n    let {value} = e.target;\r\n    this.props.onChange(e);\r\n    let opt = _.find(this.state.data, {name: value});\r\n    this.props.onSelect(opt ? opt.id : 0); //trigger onSelect only if dataList MATCH option\r\n  }\r\n  render(){\r\n    let {value, name, placeholder} = this.props;\r\n    let {data} = this.state;\r\n    if(data.length===0) return null;\r\n    return(\r\n      <div className='DataListAPI'>\r\n        <input type='text' name={name} value={value} onChange={this.handleChange} placeholder={placeholder} required />\r\n        <div className='options'>\r\n          {this.renderOptions()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DataListAPI;\r\n","import SelectAPI from './SelectAPI';\r\nexport default SelectAPI;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {API_CALL} from '../../../consts';\r\nimport _ from 'lodash';\r\n\r\nclass SelectAPI extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {data: []};\r\n\r\n    this.fetchAPI = this.fetchAPI.bind(this);\r\n    this.renderOptions = this.renderOptions.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchAPI();\r\n  }\r\n  fetchAPI(){\r\n    let {api} = this.props;\r\n    if(!api) return false;\r\n    API_CALL(api.verb, api.url).then((data) => {\r\n      this.setState({data});\r\n    }).catch((e) => {\r\n      setTimeout(this.fetchAPI, 1000);\r\n    });\r\n  }\r\n  renderOptions(){\r\n    let Options = _.map(this.state.data, (opt) => {\r\n      return <option key={opt.id} value={opt.id}>{opt.name}</option>\r\n    })\r\n    return Options;\r\n  }\r\n  render(){\r\n    let {value, name} = this.props;\r\n    return(\r\n      <select className={`SelectAPI ${!value && 'disabled'}`} value={value} name={name}\r\n              onChange={this.props.onChange} required={this.props.required}>\r\n        <option value=\"\" disabled>{this.props.placeholder}</option>;\r\n        {this.renderOptions()}\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectAPI;\r\n","import ModalBarcode from './ModalBarcode';\r\nexport default ModalBarcode;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport DataListAPI from '../../../Misc/DataListAPI';\r\nimport SelectAPI from '../../../Misc/SelectAPI';\r\n\r\nclass ModalBarcode extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    const product = this.props.noti.product;\r\n\r\n    this.state = {\r\n      barcode: this.props.barcode,\r\n      product_name:     product ? product.product_name.split(' -')[0]  : '',\r\n      category_id:      product ? product.category_id       : '',\r\n      capacity_unit_id: product ? product.capacity_unit_id  : '',\r\n      capacity:         product ? product.capacity          : '',\r\n      brand_id:         product ? product.brand_id          : '',\r\n      brand_text:       product ? product.brand_name        : ''\r\n    }\r\n    this.handleChange     =     this.handleChange.bind(this);\r\n    this.submit           =     this.submit.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.product_name.focus();\r\n  }\r\n  handleChange(e){\r\n    let {name, value} = e.target;    \r\n    let stateObj = {}; stateObj[name] = value;\r\n    this.setState(stateObj);\r\n  }\r\n  submit(e){\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n  }\r\n  render(){\r\n    let {state} = this;\r\n    let {product} = this.props.noti;\r\n    return(\r\n      <div className='ModalBarcode'>\r\n        <header className='modal-header'>\r\n          <div className='title'>{product ? ' ' : ' '}</div>\r\n        </header>\r\n        <form onSubmit={this.submit} onReset={() => this.props.close()}>\r\n          <header> </header>\r\n            <div className='field'>\r\n              <div></div>\r\n              <div><input type='text' name='barcode' value={state.barcode} onChange={this.handleChange} required readOnly /></div>\r\n            </div>\r\n          <div className='field'>\r\n            <div> </div>\r\n            <div><input type='text' name='product_name' value={state.product_name} onChange={this.handleChange} placeholder=\":  \" required ref={(input) => {this.product_name=input}} /></div>\r\n          </div>\r\n          <header> </header>\r\n          <div className='field row'>\r\n            <div></div>\r\n            <div>\r\n              <DataListAPI api={{verb:'GET', url: '/db/brands'}} placeholder=': ' required\r\n                  name='brand_text' value={state.brand_text} onChange={this.handleChange}\r\n                  onSelect={(val) => this.setState({brand_id: val})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='field row'>\r\n            <div></div>\r\n            <div>\r\n              <SelectAPI api={{verb:'GET', url: '/db/categories'}} placeholder='  ' required\r\n                  name='category_id' value={state.category_id} onChange={this.handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='field row'>\r\n            <div></div>\r\n            <div className='multiple'>\r\n              <div><input type='number' name='capacity' value={state.capacity} onChange={this.handleChange} placeholder='650' required /></div>\r\n              <div>\r\n                <SelectAPI api={{verb:'GET', url: '/db/capacity_units'}} placeholder='' required\r\n                    name='capacity_unit_id' value={state.capacity_unit_id} onChange={this.handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <footer>\r\n            <div className='cancel'><button   type=\"reset\"></button></div>\r\n            <div className='confirm'><button  type=\"submit\"></button></div>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalBarcode;\r\n","import ScanNotExists from './ScanNotExists';\r\nexport default ScanNotExists;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport moment from 'moment';\r\nimport Icon from '../../../Misc/Icon';\r\nimport Modal from   '../../../Misc/MyModal';\r\nimport ModalBarcode from '../ModalBarcode';\r\nimport {API_CALL} from '../../../../consts';\r\n\r\nclass ScanNotExists extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isModal: false}\r\n\r\n    this.toggleIsModal  =   this.toggleIsModal.bind(this);\r\n    this.submit         =   this.submit.bind(this);\r\n  }\r\n  toggleIsModal(){\r\n    let isModal = !(this.state.isModal);\r\n    this.setState({isModal});\r\n  }\r\n  submit(newProduct){\r\n    const {notification_id} = this.props.noti;\r\n    API_CALL('POST', `/notification/${notification_id}/newProductForm`, {newProduct}).then((cb) => {\r\n      this.toggleIsModal();\r\n    });\r\n  }\r\n  render(){\r\n    let {noti}    =   this.props;\r\n    let {status}  =   noti;\r\n    if(!noti) return null;\r\n    let barcode = noti.subject_id;\r\n    let isToday = moment(noti.createdAt).isSame(moment(), 'date');\r\n    return(\r\n      <div className='ScanNotExists'>\r\n        <Modal isOpen={this.state.isModal} >\r\n          <ModalBarcode close={this.toggleIsModal} barcode={noti.subject_id} noti={noti} onSubmit={this.submit} />\r\n        </Modal>\r\n        <main>\r\n          <div className='title'>\r\n            <div className='topic'>\r\n                   \r\n                <div className='barcode'>\r\n                  : {barcode}\r\n                  {status===10 &&\r\n                    <div>\r\n                         \r\n                    </div>\r\n                  }\r\n                </div>\r\n            </div>\r\n            <div className='at'>\r\n              <div className='time'>{moment(noti.createdAt).format('HH:mm')}</div>\r\n              {!isToday && <div className='date'>{moment(noti.createdAt).format('DD/MM/YY')}</div>}\r\n            </div>\r\n          </div>\r\n          <div className='img'>\r\n            <Icon icon='barcode'/>\r\n          </div>\r\n          <div className='question'>\r\n            {status===1 &&\r\n              <div>\r\n                    \r\n                <br/>\r\n                   ?\r\n              </div>\r\n            }\r\n            {status===10 &&\r\n              <div>\r\n                <div className='primary'>   </div>\r\n                <br/><br/>\r\n                     Gulo\r\n              </div>\r\n            }\r\n          </div>\r\n        </main>\r\n        {status===1 &&\r\n           <footer>\r\n             <button onClick={this.toggleIsModal}>  </button>\r\n           </footer>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScanNotExists;\r\n","import VerifyProduct from './VerifyProduct';\r\nexport default VerifyProduct;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport moment from 'moment';\r\nimport Icon from '../../../Misc/Icon';\r\nimport Modal from   '../../../Misc/MyModal';\r\nimport ModalBarcode from '../ModalBarcode';\r\nimport {API_CALL} from '../../../../consts';\r\n\r\nclass VerifyProduct extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isModal: false}\r\n    this.toggleIsModal        = this.toggleIsModal.bind(this);\r\n    this.renderVerifyQuestion = this.renderVerifyQuestion.bind(this);\r\n    this.renderVerified       = this.renderVerified.bind(this);\r\n    this.renderOverwrited     = this.renderOverwrited.bind(this);\r\n\r\n    this.overwrite            = this.overwrite.bind(this);\r\n    this.verify               = this.verify.bind(this);\r\n  }\r\n  toggleIsModal(){\r\n    let isModal = !(this.state.isModal);\r\n    this.setState({isModal});\r\n  }\r\n  verify(){\r\n    const {notification_id, product} = this.props.noti;\r\n    API_CALL('POST', `/notification/${notification_id}/verifyProduct`, {product}).then((cb) => {\r\n      console.log(cb);\r\n    });\r\n  }\r\n  overwrite(product){\r\n    const {notification_id} = this.props.noti;\r\n    API_CALL('POST', `/notification/${notification_id}/overwriteProduct`, {product}).then((cb) => {\r\n      this.toggleIsModal();\r\n    });\r\n  }\r\n  renderVerifyQuestion(){\r\n    let {noti} = this.props;\r\n    console.log(noti);\r\n    return(\r\n      <div className='VerifyQuestion'>\r\n        <div className='product-details'>\r\n           <div className='product-name'>{noti.product.product_name}</div>\r\n           <div>\r\n             <div>:</div>\r\n             <div>{noti.product.category_name}</div>\r\n           </div>\r\n           <div>\r\n             <div>:</div>\r\n             <div>{noti.product.brand_name}</div>\r\n           </div>\r\n           <div>\r\n             <div>:</div>\r\n             <div>{noti.product.capacity} {noti.product.unit_name}</div>\r\n           </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  renderOverwrited(){\r\n    let {noti} = this.props;\r\n    let {product} = noti;\r\n    return(\r\n      <div className='Overwrited'>\r\n        <div className='product-name'>{product.barcode} - {product.product_name}</div>\r\n        <div className='desc'> </div>\r\n        <div className='thanks'>     Gulo</div>\r\n      </div>\r\n    );\r\n  }\r\n  renderVerified(){\r\n    let {noti} = this.props;\r\n    let {product} = noti;\r\n    return(\r\n      <main className='Verified'>\r\n        <div className='product-name'>{product.barcode} - {product.product_name}</div>\r\n        <div className='desc'> </div>\r\n        <div className='thanks'>     Gulo</div>\r\n      </main>\r\n    );\r\n  }\r\n  render(){\r\n    let {noti}    =   this.props;\r\n    let {status}  =   noti;\r\n    if(!noti) return null;\r\n    let barcode = noti.subject_id;\r\n    let isToday = moment(noti.createdAt).isSame(moment(), 'date');\r\n    return(\r\n      <div className='VerifyProduct'>\r\n        <Modal isOpen={this.state.isModal} >\r\n          <ModalBarcode close={this.toggleIsModal} barcode={noti.subject_id} noti={noti} onSubmit={this.overwrite} />\r\n        </Modal>\r\n        <main>\r\n          <div className='title'>\r\n            <div className='topic'>\r\n                   \r\n                <div className='barcode'>\r\n                  : {barcode}\r\n                  {status===1   &&  <div> </div>}\r\n                  {status===10  && <div> </div>}\r\n                  {status===100 && <div>  </div>}\r\n                </div>\r\n            </div>\r\n            <div className='at'>\r\n              <div className='time'>{moment(noti.createdAt).format('HH:mm')}</div>\r\n              {!isToday && <div className='date'>{moment(noti.createdAt).format('DD/MM/YY')}</div>}\r\n            </div>\r\n          </div>\r\n          <div className={`img ${(status===1 || status===10) && 'smaller'}`}>\r\n            <Icon icon='barcode'/>\r\n          </div>\r\n          <div className='memo'>\r\n            {status===1   && this.renderVerifyQuestion()}\r\n            {status===10  && this.renderVerified()}\r\n            {status===100 && this.renderOverwrited()}\r\n          </div>\r\n        </main>\r\n        {status===1 && <footer>\r\n          <button onClick={this.verify}> </button>\r\n          <button className='secondary' onClick={this.toggleIsModal}></button>\r\n        </footer>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VerifyProduct;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport {withRouter, Redirect}     from 'react-router-dom';\r\nimport {connect}        from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {markRead, deleteNotification}           from '../../../actions/notification';\r\n\r\nimport Icon             from '../../Misc/Icon';\r\n//import MenuToggler      from '../../Misc/MenuToggler';\r\nimport SharedList       from './SharedList';\r\nimport ScanNotExists    from './ScanNotExists';\r\nimport VerifyProduct    from './VerifyProduct';\r\n\r\nclass ViewNotification extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.renderNotification = this.renderNotification.bind(this);\r\n    this.deleteNotification = this.deleteNotification.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    let {noti} = this.props;\r\n    if(!noti) return <Redirect to='/notifications' />;\r\n    if(noti.isRead===0)\r\n      this.props.markRead(this.props.noti.notification_id);\r\n  }\r\n  renderNotification(){\r\n    let {noti} = this.props;\r\n    let type = noti.notification_type_id;\r\n    switch(type){\r\n      case 1:\r\n        return <SharedList noti={noti} />\r\n      case 3:\r\n        return <ScanNotExists noti={noti} />\r\n      case 4:\r\n        return <VerifyProduct noti={noti} />\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  deleteNotification(){\r\n    let {noti} = this.props;\r\n    this.props.deleteNotification(noti.notification_id);\r\n    this.props.history.goBack();\r\n  }\r\n  render(){\r\n    let {noti} = this.props;    \r\n    // if(!noti) return <Redirect to='/notifications' />;\r\n    if(!noti) return null;\r\n    return(\r\n      <div className='Page ViewNotification'>\r\n        <header>\r\n          <div className='right'><Icon className='trash' icon='trash' hoverColor='red' onClick={this.deleteNotification} /></div>\r\n          <div className='title'>{noti.topic}</div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n\r\n        {this.renderNotification()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({notifications}, ownProps) => {return {noti: notifications[ownProps.match.params.notification_id]}};\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({markRead, deleteNotification}, dispatch);\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(ViewNotification));\r\n","import ViewNotification from './ViewNotification';\r\nexport default ViewNotification;\r\n","import ShoppingCart from './ShoppingCart';\r\nexport default ShoppingCart;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nclass ShoppingCart extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {isExpand: false};\r\n\r\n    this.toggleExpand   =     this.toggleExpand.bind(this);\r\n  }\r\n  toggleExpand(){\r\n    let isExpand = !(this.state.isExpand);\r\n    this.setState({isExpand});\r\n  }\r\n  renderExpand(){\r\n    let {cart, products} = this.props;\r\n    let missing_products = _.differenceBy(products, cart.products, 'barcode');\r\n\r\n    return (\r\n      <div className='expand'>\r\n        {_.map(cart.products, (p) => {\r\n          return (\r\n            <div key={p.barcode} className='row'>\r\n              <div>{p.product_name}</div>\r\n              <div>{p.price}</div>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className='missing-products'>\r\n          {_.map(missing_products, (p) => {\r\n            return (\r\n              <div key={p.barcode} className='row'>\r\n                <div>{p.product_name}</div>\r\n                <div>-</div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className='total'>\r\n          <div className='row'>\r\n            <div>\"</div>\r\n            <div>{cart.total_price}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  render(){\r\n    let {cart, products} =  this.props;\r\n    let {isExpand}       =  this.state;\r\n    if(!cart) return null;\r\n    let missing_products = _.differenceBy(products, cart.products, 'barcode');\r\n\r\n    return(\r\n      <div className='ShoppingCart' onClick={this.toggleExpand}>\r\n        <div className='logo'>\r\n          <img src={cart.firm_logo} alt='' />\r\n        </div>\r\n        <main>\r\n          <div className='row'>\r\n            <div>:</div>\r\n            <div>{cart.total_price} </div>\r\n          </div>\r\n          {missing_products.length>0 &&\r\n            <div className='row'>\r\n              <div> : </div>\r\n              <div>{missing_products.length}</div>\r\n            </div>\r\n          }\r\n          {isExpand && this.renderExpand()}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShoppingCart;\r\n","import React, {Component} from 'react';\r\nimport './style.scss';\r\nimport _ from 'lodash';\r\nimport {API_CALL}       from '../../../consts';\r\nimport {connect}        from 'react-redux';\r\nimport Icon             from '../../Misc/Icon';\r\nimport MenuToggler      from '../../Misc/MenuToggler';\r\nimport ShoppingCart     from './ShoppingCart';\r\n\r\n\r\nclass BestShoppingCart extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {carts: []};\r\n    this.fetchCarts = this.fetchCarts.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchCarts();\r\n  }\r\n  async fetchCarts(){\r\n    let {list} = this.props;\r\n    if(!list){\r\n      setTimeout(this.fetchCarts, 300);\r\n      return false;\r\n    }\r\n    let carts = await API_CALL('GET', `/list/${list.list_id}/bestShoppingCart`);\r\n    this.setState({carts});\r\n  }\r\n  renderShoppingCarts(){\r\n    let {carts} = this.state;\r\n    carts = _.sortBy(carts, ['total_price'], 'asc');\r\n    carts = _.orderBy(carts, (cart) => cart.products.length, 'desc');\r\n    return _.map(carts, (cart) => {\r\n      return <ShoppingCart key={cart.shopping_cart_firm_id} cart={cart}\r\n                products={_.toArray(this.props.list.products)}\r\n             />\r\n    })\r\n  }\r\n  render(){\r\n    let {list}  = this.props;\r\n    if(!list) return null;\r\n\r\n    return(\r\n      <div className='Page BestShoppingCart'>\r\n        <header>\r\n          <div className='right'><MenuToggler /></div>\r\n          <div className='title'>\r\n            <div className='primary'>   </div>\r\n            <div className='secondary'>{list.list_name}</div>\r\n          </div>\r\n          <div className='left'><Icon icon='arrow-left' size='2x' onClick={() => this.props.history.goBack()} /></div>\r\n        </header>\r\n        <main className='cart-list'>\r\n          {this.renderShoppingCarts()}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({lists}, ownProps) => {return {list: lists[ownProps.match.params.list_id]}};\r\nexport default connect(mapStateToProps)(BestShoppingCart);\r\n","import BestShoppingCart from './BestShoppingCart';\r\nexport default BestShoppingCart;\r\n","import React, {Component}   from 'react';\r\nimport './style.scss';\r\nimport '../../FontAwesomeLib';\r\nimport SocketListener from './SocketListener';\r\n\r\nimport {Route, Switch}                  from  'react-router-dom';\r\nimport {connect}                        from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {fetchLists}         from '../../actions/list';\r\nimport {fetchNotifications} from '../../actions/notification';\r\n\r\nimport VerifyAuth   from '../VerifyAuth';\r\nimport SideMenu     from  './SideMenu';\r\nimport Lists        from  './Lists';\r\nimport ViewList     from  './ViewList';\r\n\r\nimport Notifications    from './Notifications';\r\nimport ViewNotification from './ViewNotification';\r\nimport BestShoppingCart from './BestShoppingCart';\r\n\r\nclass Gulo extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.fetchData = this.fetchData.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchData();\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(!prevProps.user && this.props.user)\r\n      this.fetchData();\r\n  }\r\n  fetchData(){\r\n    if(!this.props.user) return false;\r\n    this.props.fetchLists();\r\n    this.props.fetchNotifications();\r\n  }\r\n  render(){\r\n    const {user} = this.props;\r\n    if(!user) return <VerifyAuth/>\r\n    return(\r\n      <div className='Gulo'>\r\n        <SocketListener />\r\n        <SideMenu />\r\n        <Switch>\r\n          <Route path='/list/:list_id/bestShoppingCart' component={BestShoppingCart}/>\r\n          <Route path='/list/:list_id' component={ViewList}/>\r\n          <Route path='/notifications/:notification_id' component={ViewNotification}/>\r\n          <Route path='/notifications' component={Notifications}/>\r\n          <Route path='/' component={Lists}/>\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user}) => {return {user} };\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({fetchLists, fetchNotifications}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Gulo);\r\n","import Gulo from './Gulo';\r\nexport default Gulo;\r\n","const firebaseConfig = {\r\n  apiKey: \"AIzaSyDHcNPQvFdFTb8eRZ59ZD6GZL2WUuLwMxE\",\r\n  authDomain: \"gulo-234107.firebaseapp.com\",\r\n  databaseURL: \"https://gulo-234107.firebaseio.com\",\r\n  projectId: \"gulo-234107\",\r\n  storageBucket: \"gulo-234107.appspot.com\",\r\n  messagingSenderId: \"180978526897\",\r\n  appId: \"1:180978526897:web:9d791a3ad4caa59a\"\r\n};\r\n\r\nexport default firebaseConfig;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {setFirebase} from './actions/firebase';\r\nimport Login  from  './components/Login';\r\nimport Gulo   from  './components/Gulo';\r\n\r\nimport {Plugins} from '@capacitor/core';\r\n\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport firebaseConfig from './firebaseConfig';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst { StatusBar, Device } = Plugins\r\n\r\nclass Router extends Component {\r\n  componentDidMount(){\r\n    this.hideStatusBar();\r\n    this.props.setFirebase(firebase);\r\n  }\r\n  async hideStatusBar(){\r\n    let deviceInfo = await Device.getInfo();\r\n    if(deviceInfo.platform!=='web')\r\n      StatusBar.hide();\r\n  }\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/Login\" component={Login}></Route>\r\n            <Route path=\"/\" component={Gulo}></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({setFirebase}, dispatch);\r\n}\r\nexport default connect(null,mapDispatchToProps)(Router);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport ReduxPromise from 'redux-promise';\nimport reducers from './reducers';\nimport Router from './Router.js';\n\nconst createStoreWithMiddleware = applyMiddleware(ReduxPromise)(createStore);\n\nReactDOM.render(\n  <Provider store={createStoreWithMiddleware(reducers)}>\n    <Router />\n  </Provider>\n, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}